{"version":3,"sources":["webpack:///./src/pages/testing/socketiophp.vue?a87e","webpack:///src/pages/testing/socketiophp.vue","webpack:///./src/pages/testing/socketiophp.vue?975e","webpack:///./src/pages/testing/socketiophp.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","inserts","_v","getdata","deletes","_l","item","index","key","$event","dipilih","_s","staticRenderFns","data","messages","message","pilih","beforeMount","socket","console","log","emit","that","forceUpdate","mounted","methods","id","room","tujuan","table","text","dibaca","status","createdAt","Date","toJSON","createdBy","edits","Nama","component"],"mappings":"iIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIS,UAAU,CAACT,EAAIU,GAAG,aAAaN,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIW,UAAU,CAACX,EAAIU,GAAG,aAAaN,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIY,UAAU,CAACZ,EAAIU,GAAG,aAAaN,EAAG,MAAMJ,EAAIa,GAAIb,EAAY,UAAE,SAASc,EAAKC,GAAO,OAAOX,EAAG,IAAI,CAACY,IAAID,EAAM,OAAOP,GAAG,CAAC,MAAQ,SAASS,GAAQ,OAAOjB,EAAIkB,QAAQJ,MAAS,CAACd,EAAIU,GAAGV,EAAImB,GAAGL,UAAY,IAC/nBM,EAAkB,G,sDCYtB,+BACA,GACEC,KADF,WAEI,MAAO,CACLC,SAAU,GACVC,QAAS,GACTC,MAAO,KAGXC,YARF,WAQA,WACIC,EAAOlB,GAAG,gBAAgB,SAA9B,GACMmB,QAAQC,IAAIL,MAEdG,EAAOlB,GAAG,eAAe,SAA7B,GACM,EAAN,oBAEIkB,EAAOlB,GAAG,gBAAgB,SAA9B,GACMmB,QAAQC,IAAIP,GACZ,EAAN,WACM,EAAN,iBAGIK,EAAOlB,GAAG,mBAAmB,SAAjC,GACMkB,EAAOG,KAAK,iBAAiB,SAAnC,GACQC,KAAKR,SAAWA,EAChBrB,KAAK8B,qBAIXC,QA5BF,WA6BI,IAAJ,OACI,EAAJ,kCACM,EAAN,cAEI,KAAJ,kBAEEC,QAAS,CACPtB,QADJ,WAEMe,EAAOG,KAAK,cAAe,SAE7BX,QAJJ,SAIA,GACMjB,KAAKuB,MAAQV,GAEfL,QAPJ,WAQM,IAAN,GACQyB,GAAI,MACJC,KAAM,QACNC,OAAQ,QACRC,MAAR,SACQC,KAAM,sBACNC,OAAQ,QACRC,OAAQ,EAERC,WAAW,IAAIC,MAAOC,SACtBC,UAAW,QAGb3C,KAAKsB,QAAU,GACfG,EAAOG,KAAK,eAAgBN,IAE9BsB,MAxBJ,SAwBA,GACM5C,KAAKuB,MAAMgB,OAAS,EACpBvC,KAAKuB,MAAMsB,KAAO,UAClB7C,KAAKuB,MAAMc,KAAO,UAClBZ,EAAOG,KAAK,gBAAiB5B,KAAKuB,QAEpCZ,QA9BJ,SA8BA,GACM,IAAN,OACMc,EAAOG,KAAK,iBAAkB5B,KAAKuB,OACnCE,EAAOG,KAAK,iBAAiB,SAAnC,GACQC,EAAKR,SAAWA,EAChBQ,EAAKC,cACLD,EAAKN,MAAQ,SCrF+U,I,YCOhWuB,EAAY,eACd,EACAhD,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAA2B,E","file":"js/page-testing-socketiophp.8fe3176d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"btn btn-sm btn-primary  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.inserts}},[_vm._v(\"inserts\")]),_c('button',{staticClass:\"btn btn-sm btn-warning  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.getdata}},[_vm._v(\"getdata\")]),_c('button',{staticClass:\"btn btn-sm btn-primary  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deletes}},[_vm._v(\"deletes\")]),_c('br'),_vm._l((_vm.messages),function(item,index){return _c('p',{key:index+'item',on:{\"click\":function($event){return _vm.dipilih(item)}}},[_vm._v(_vm._s(item))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <button type=\"button\" @click=\"inserts\" class=\"btn btn-sm btn-primary  \">inserts</button>\r\n    <button type=\"button\" @click=\"getdata\" class=\"btn btn-sm btn-warning  \">getdata</button>\r\n    <button type=\"button\" @click=\"deletes\" class=\"btn btn-sm btn-primary  \">deletes</button>\r\n    <br>\r\n    <p v-for=\"(item, index) in messages\" :key=\"index+'item'\" @click=\"dipilih(item)\">{{item}}</p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport uniqid from \"uniqid\";\r\nimport io from 'socket.io-client'\r\nconst socket = io(`http://localhost:2021`)\r\nexport default {\r\n  data() {\r\n    return {\r\n      messages: [],\r\n      message: \"\",\r\n      pilih: {},\r\n    };\r\n  },\r\n  beforeMount() {\r\n    socket.on(\"gets-message\", message => {\r\n      console.log(message)\r\n    });\r\n    socket.on(\"new-message\", message => {\r\n      this.messages.push(message);\r\n    });\r\n    socket.on(\"edit-message\", data => {\r\n      console.log(data);\r\n      this.messages = data;\r\n      this.forceUpdate();\r\n      // console.log(this.messages);\r\n    });\r\n    socket.on(\"refresh-message\", data => {\r\n      socket.emit(\"last-messages\", function(messages) {\r\n        that.messages = messages;\r\n        this.forceUpdate();\r\n      });\r\n    });\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n     socket.emit(\"last-messages\", function(messages) {\r\n       that.messages = messages;\r\n     });\r\n     this.scrollToBottom();\r\n  },\r\n  methods: {\r\n    getdata(){\r\n      socket.emit(\"get-message\", 'data');\r\n    },\r\n    dipilih(item) {\r\n      this.pilih = item;\r\n    },\r\n    inserts() {\r\n      let message = {\r\n        id: uniqid(),\r\n        room: \"pesan\",\r\n        tujuan: \"admin\",\r\n        table:\"tbuser\",\r\n        text: 'taufik akbar maliki',\r\n        dibaca: \"false\",\r\n        status: 1,\r\n        // 0 hapus, 1 pending, 2 diproses, 3 ada kesalahan, 4 selesai\r\n        createdAt: new Date().toJSON(),\r\n        createdBy: \"null\"\r\n      };\r\n      // this.messages.push(message)\r\n      this.message = \"\";\r\n      socket.emit(\"send-message\", message);\r\n    },\r\n    edits(id) {\r\n      this.pilih.status = 4;\r\n      this.pilih.Nama = \"selesai\";\r\n      this.pilih.text = \"selesai\";\r\n      socket.emit(\"edits-message\", this.pilih);\r\n    },\r\n    deletes(id) {\r\n      let that = this;\r\n      socket.emit(\"delete-message\", this.pilih);\r\n      socket.emit(\"last-messages\", function(messages) {\r\n        that.messages = messages;\r\n        that.forceUpdate();\r\n        that.pilih = {};\r\n      });\r\n    },\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socketiophp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socketiophp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./socketiophp.vue?vue&type=template&id=2019bf48&\"\nimport script from \"./socketiophp.vue?vue&type=script&lang=js&\"\nexport * from \"./socketiophp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}