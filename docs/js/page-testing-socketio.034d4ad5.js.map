{"version":3,"sources":["webpack:///./src/pages/testing/socketio.vue?8d37","webpack:///src/pages/testing/socketio.vue","webpack:///./src/pages/testing/socketio.vue?cd79","webpack:///./src/pages/testing/socketio.vue","webpack:///./src/plugins/socket.io.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","inserts","_v","deletes","_l","item","index","key","$event","dipilih","_s","staticRenderFns","data","messages","message","pilih","beforeMount","console","log","that","$forceUpdate","mounted","methods","id","target_id","app","dibaca","text","link","tanggal","push","edits","status","Nama","component","socket","require","io"],"mappings":"gIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIS,UAAU,CAACT,EAAIU,GAAG,YAAYN,EAAG,MAAMA,EAAG,SAAS,CAACE,YAAY,0BAA0BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIW,UAAU,CAACX,EAAIU,GAAG,YAAYV,EAAIY,GAAIZ,EAAY,UAAE,SAASa,EAAKC,GAAO,OAAOV,EAAG,IAAI,CAACW,IAAID,EAAMN,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOhB,EAAIiB,QAAQJ,MAAS,CAACb,EAAIU,GAAGV,EAAIkB,GAAGL,UAAY,IAC1fM,EAAkB,G,6CCUtB,GACEC,KADF,WAEI,MAAO,CACLC,SAAU,GACVC,QAAS,GACTC,MAAO,KAGXC,YARF,WAQA,WACI,EAAJ,mCACM,EAAN,oBAEI,EAAJ,oCACMC,QAAQC,IAAIN,GACZ,EAAN,WACM,EAAN,kBAGI,EAAJ,uCACM,EAAN,uCACQO,KAAKN,SAAWA,EAChBpB,KAAK2B,sBAIXC,QAzBF,WA0BI,IAAJ,OACI,EAAJ,uCACMF,EAAKN,SAAWA,MAIpBS,QAAS,CACPb,QADJ,SACA,GACMhB,KAAKsB,MAAQV,GAEfJ,QAJJ,WAKM,IAAN,GACQsB,GAAI,MACJC,UAAW,EACXC,IAAK,SACLC,OAAQ,QACRC,KAAR,cACQC,KAAR,eACQC,QAAR,UAEMpC,KAAKoB,SAASiB,KAAKhB,GAEnBrB,KAAKqB,QAAU,GACf,EAAN,6BAEIiB,MAnBJ,SAmBA,GACMtC,KAAKsB,MAAMiB,OAAS,EACpBvC,KAAKsB,MAAMkB,KAAO,UAClBxC,KAAKsB,MAAMY,KAAO,UAClB,EAAN,uCAEIxB,QAzBJ,SAyBA,GACM,IAAN,OACM,EAAN,uCACM,EAAN,uCACQgB,EAAKN,SAAWA,EAChBM,EAAKC,eACLD,EAAKJ,MAAQ,SC1E4U,I,YCO7VmB,EAAY,eACd,EACA3C,EACAoB,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E,6CClBf,yBAEMC,GADMC,EAAQ,QACLC,IAAG,gCAEHF","file":"js/page-testing-socketio.034d4ad5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"btn btn-sm btn-success  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.inserts}},[_vm._v(\"insert\")]),_c('br'),_c('button',{staticClass:\"btn btn-sm btn-danger  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deletes}},[_vm._v(\"delete\")]),_vm._l((_vm.messages),function(item,index){return _c('p',{key:index,on:{\"click\":function($event){return _vm.dipilih(item)}}},[_vm._v(_vm._s(item))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <button type=\"button\" @click=\"inserts\" class=\"btn btn-sm btn-success  \">insert</button><br>\r\n    <button type=\"button\" @click=\"deletes\" class=\"btn btn-sm btn-danger  \">delete</button>\r\n    <p v-for=\"(item, index) in messages\" :key=\"index\" @click=\"dipilih(item)\">{{item}}</p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport socket from \"@/plugins/socket.io.js\";\r\nimport uniqid from \"uniqid\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      messages: [],\r\n      message: \"\",\r\n      pilih: {},\r\n    };\r\n  },\r\n  beforeMount() {\r\n    socket.on(\"new-message\", message => {\r\n      this.messages.push(message);\r\n    });\r\n    socket.on(\"edit-message\", data => {\r\n      console.log(data);\r\n      this.messages = data;\r\n      this.$forceUpdate();\r\n      // console.log(this.messages);\r\n    });\r\n    socket.on(\"refresh-message\", data => {\r\n      socket.emit(\"last-messages\", function(messages) {\r\n        that.messages = messages;\r\n        this.$forceUpdate();\r\n      });\r\n    });\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    socket.emit(\"last-messages\", function(messages) {\r\n      that.messages = messages;\r\n    });\r\n    // this.scrollToBottom();\r\n  },\r\n  methods: {\r\n    dipilih(item) {\r\n      this.pilih = item;\r\n    },\r\n    inserts() {\r\n      let message = {\r\n        id: uniqid(),\r\n        target_id: 1,\r\n        app: 'driver',\r\n        dibaca: 'false',\r\n        text:\"hello there\",\r\n        link:\"/driver/link\",\r\n        tanggal:new Date()\r\n      };\r\n      this.messages.push(message);\r\n      // this.$store.state.notifikasi.push(message)\r\n      this.message = \"\";\r\n      socket.emit(\"send-message\", message);\r\n    },\r\n    edits(id) {\r\n      this.pilih.status = 4;\r\n      this.pilih.Nama = \"selesai\";\r\n      this.pilih.text = \"selesai\";\r\n      socket.emit(\"edits-message\", this.pilih);\r\n    },\r\n    deletes(id) {\r\n      let that = this;\r\n      socket.emit(\"delete-message\", this.pilih);\r\n      socket.emit(\"last-messages\", function(messages) {\r\n        that.messages = messages;\r\n        that.$forceUpdate();\r\n        that.pilih = {};\r\n      });\r\n    },\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socketio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./socketio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./socketio.vue?vue&type=template&id=b636b3f8&\"\nimport script from \"./socketio.vue?vue&type=script&lang=js&\"\nexport * from \"./socketio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import io from 'socket.io-client'\r\nconst url = require('../application-keys.json')\r\nconst socket = io(`https://infolayanans.now.sh`)\r\n// https://sockettam.now.sh\r\nexport default socket\r\n"],"sourceRoot":""}