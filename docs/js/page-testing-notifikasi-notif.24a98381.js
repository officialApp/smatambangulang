(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-testing-notifikasi-notif"],{"03a0":function(t,n,e){var a=e("25bb"),o=e("d309");t.exports={distanceInWords:a(),format:o()}},"25bb":function(t,n){function e(){var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};function n(n,e,a){var o;return a=a||{},o="string"===typeof t[n]?t[n]:1===e?t[n].one:t[n].other.replace("{{count}}",e),a.addSuffix?a.comparison>0?"dalam waktu "+o:o+" yang lalu":o}return{localize:n}}t.exports=e},"386b":function(t,n,e){var a=e("5ca1"),o=e("79e5"),r=e("be13"),i=/"/g,u=function(t,n,e,a){var o=String(r(t)),u="<"+n;return""!==e&&(u+=" "+e+'="'+String(a).replace(i,"&quot;")+'"'),u+">"+o+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(u),a(a.P+a.F*o((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",e)}},"80f4":function(t,n,e){"use strict";var a=e("8055"),o=e.n(a),r=(e("7e59"),o()("https://infolayanans.now.sh"));n["a"]=r},a8c8:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",{staticClass:"btn btn-sm btn-danger shadow-lg",on:{click:t.dibaca}},[t._v(t._s(t.notifn))]),e("div",{staticStyle:{"overflow-y":"scroll",height:"400px"}},t._l(t.notifs,(function(n,a){return e("div",{key:a+"notifikasi",staticClass:"p-2 shadow-inner rounded-lg border-1 cursor-pointer",on:{click:function(e){return t.$router.push(n.link)}}},[t._v(t._s(n.text)+" \n        "),e("br"),e("span",{staticClass:"text-xs"},[t._v(t._s(t.distanceToNow(n.tanggal))+" yang lalu")])])})),0)])},o=[],r=(e("b54a"),e("bc3a")),i=e.n(r),u=e("80f4"),s=e("03a0"),c={data:function(){return{notifs:[],notifn:[]}},beforeMount:function(){var t=this;u["a"].on("new-message",(function(n){n.target_id==t.$store.state.users.id&&"driver"==n.app&&(t.refreshNotif(),document.addEventListener("deviceready",(function(){cordova.plugins.notification.local.schedule({title:"BTN Banjarbaru",text:n.text}),cordova.plugins.notification.local.on("click",(function(e,a){setTimeout((function(){t.$router.push(n.link)}),1e3)}))})))}))},methods:{refreshNotif:function(){var t=this,n=new FormData;n.append("data","select * from notifikasi where id_user='".concat(this.$store.state.users.id,"' AND app='driver' order by id desc")),n.append("database","infolay2_test"),i.a.post("https://infolayanan.site/api/mysql/auto.php",n,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(n){var e=n.data.filter((function(t){return"false"==t.dibaca}));t.notifs=n.data,t.notifn=e.length,t.$forceUpdate()}))},dibaca:function(){var t=this,n=new FormData;n.append("data","update notifikasi set dibaca='true' where id_user='".concat(this.$store.state.users.id,"' AND app='driver'")),n.append("database","infolay2_test"),i.a.post("https://infolayanan.site/api/mysql/auto.php",n,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(n){t.refreshNotif(),t.$forceUpdate()}))},dibacas:function(t){var n=this,e=new FormData;e.append("data","update notifikasi set dibaca='true' where id_user='".concat(this.$store.state.users.id,"' AND app='driver' AND button=").concat(t)),e.append("database","infolay2_test"),i.a.post("https://infolayanan.site/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(t){n.refreshNotif(),n.$forceUpdate()}))},distanceToNow:function(t){return this.$datefns.distanceInWordsToNow(new Date(t),{locale:s,includeSeconds:!0})}},mounted:function(){this.refreshNotif()}},d=c,f=e("2877"),l=Object(f["a"])(d,a,o,!1,null,null,null);n["default"]=l.exports},b54a:function(t,n,e){"use strict";e("386b")("link",(function(t){return function(n){return t(this,"a","href",n)}}))},d309:function(t,n,e){var a=e("90e5");function o(){var t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],o=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],i=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],d={MMM:function(n){return t[n.getMonth()]},MMMM:function(t){return n[t.getMonth()]},dd:function(t){return e[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?u[1]:u[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?c[1]:c[0]}},f=["M","D","DDD","d","Q","W"];return f.forEach((function(t){d[t+"o"]=function(n,e){return r(e[t](n))}})),{formatters:d,formattingTokensRegExp:a(d)}}function r(t){switch(t){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+t}}t.exports=o}}]);
//# sourceMappingURL=page-testing-notifikasi-notif.24a98381.js.map