(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-sekolah-guru-wali-kelas"],{1835:function(t,e,a){},"25ce":function(t,e,a){"use strict";var s=a("1835"),n=a.n(s);n.a},ab25:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"font-times"},[a("p",{staticClass:"text-center text-uppercase pb-3"},[t._v("sekolah_jwalikelas")]),a("div",{staticClass:"tips float-right"},[a("button",{directives:[{name:"show",rawName:"v-show",value:"taufik"!=t.pilih.name,expression:"pilih.name!='taufik'"}],staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:t.print1}},[a("span",{staticClass:"typcn typcn-document-text"})]),a("span",{staticClass:"tipstextB"},[t._v("Print Satu")])]),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:"admin"==t.$store.state.users.pilih,expression:"$store.state.users.pilih=='admin' "}],staticClass:"row"},[a("div",{staticClass:"offset-sm-2 col-sm-8"},[a("form",{attrs:{action:""},on:{submit:function(e){e.preventDefault(),"insert"==t.aksi?t.insert():"update"==t.aksi?t.update():t.remove()}}},[a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("id_jwalikelas")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("div",{staticClass:"sm-form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id_jwalikelas,expression:"vdata.id_jwalikelas"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"id_jwalikelas",id:"id_jwalikelas",name:"id_jwalikelas",disabled:""},domProps:{value:t.vdata.id_jwalikelas},on:{input:function(e){e.target.composing||t.$set(t.vdata,"id_jwalikelas",e.target.value)}}})])])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("id_guru")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id_guru,expression:"vdata.id_guru"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.vdata,"id_guru",e.target.multiple?a:a[0])}}},t._l(t.gurus,(function(e,s){return a("option",{key:s+"gurus",domProps:{value:e.id_guru}},[t._v(t._s(e.nama_guru))])})),0)])]),a("tr",[a("td",{staticClass:"text-uppercase text-sm"},[t._v("id_kelas")]),a("td",[t._v(" : ")]),a("td",{staticStyle:{width:"90%","padding-bottom":"5px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id_kelas,expression:"vdata.id_kelas"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.vdata,"id_kelas",e.target.multiple?a:a[0])}}},t._l(t.kelas,(function(e,s){return a("option",{key:s+"gurus",domProps:{value:e.id_kelas}},[t._v(t._s(e.nama_kelas))])})),0)])]),a("br"),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-sm btn-outline-primary ml-2  font-times text-uppercase",attrs:{type:"submit"}},[a("span",{staticClass:"typcn typcn-edit"}),t._v(" "+t._s("insert"==t.aksi?"insert":"update"==t.aksi?"update":"remove"))])])]),a("hr",{staticClass:"style13"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"text-uppercase font-times btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(e){t.aksi="insert",t.clearInput()}}},[a("span",{staticClass:"typcn typcn-plus"}),t._v("Insert")]),t._v("  \n      "),a("button",{staticClass:"text-uppercase font-times btn btn-sm btn-warning",attrs:{type:"button"},on:{click:function(e){t.aksi="update"}}},[a("span",{staticClass:"typcn typcn-edit"}),t._v("Update")]),t._v(" \n      "),a("button",{staticClass:"text-uppercase font-times btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(e){t.aksi="remove"}}},[a("span",{staticClass:"typcn typcn-delete"}),t._v("Delete")]),t._v(" \n     ")]),a("div",{staticClass:"col-2 text-center"}),a("div",{staticClass:"col-4 text-center"})])])]),a("hr",{staticClass:"style16"}),t.ready?a("div",{staticStyle:{"overflow-x":"auto",width:"100%"}},[a("div",{staticClass:"container flex flex-wrap mx-auto px-4 d-print-none"},[a("div",{staticClass:"w-full sm:w-1/3"},[a("div",{staticClass:"input-group mb-2"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control py-0",attrs:{type:"text",id:"searchTable",placeholder:"Cari Data ... "},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),a("div",{staticClass:"w-full sm:w-1/3"}),a("div",{staticClass:"w-full sm:w-1/3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 order-2"},[a("download-excel",{attrs:{data:t.td}},[a("button",{staticClass:"btn btn-sm btn-success  ",attrs:{type:"button"}},[a("span",{staticClass:"typcn typcn-chart-bar"}),t._v("Excel")])])],1),a("div",{staticClass:"col-sm-3 order-3"},[a("div",{staticClass:"tips"},[a("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:t.print2}},[a("span",{staticClass:"typcn typcn-document-text"})]),a("span",{staticClass:"tipstextB"},[t._v("Print Laporan")])])]),a("div",{staticClass:"col-sm-4 order-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",staticStyle:{width:"80px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?a:a[0]}}},[a("option",[t._v("10")]),a("option",[t._v("20")]),a("option",[t._v("50")]),a("option",[t._v("100")]),a("option",[t._v("1000")])])])])])]),a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"table-responsive-sm font-times p-3",staticStyle:{"box-shadow":"1px 4px 6px black",overflow:"scroll"}},[[a("table",{staticClass:"table-print table-sm table-bordered table-striped table-hover table-print border-black",staticStyle:{"overflow-x":"scroll","overflow-y":"hidden",height:"80px","white-space":"nowrap"}},[a("thead",{staticClass:"mdb-color",style:{background:t.thbackground}},[a("tr",{staticClass:"text-white",staticStyle:{overflow:"scroll",color:"white"}},[a("th",{style:{color:t.thcolor}},[t._v("#")]),t._l(t.thnya,(function(e,s){return a("th",{directives:[{name:"show",rawName:"v-show",value:!t.less.includes(e),expression:"!less.includes(item)"}],key:s+"th",staticClass:"th-print cursor-pointer uppercase",staticStyle:{"font-size":"21px"},attrs:{scope:"col"},on:{click:function(a){return t.sort(e)}}},[a("span",{staticStyle:{"font-size":"13px"},style:{color:t.thcolor}},[t._v("\n                  "+t._s(e)+"\n                  "),t.orderWith?[a("span",{directives:[{name:"show",rawName:"v-show",value:t.orderBy==e,expression:"orderBy==item"}]},[a("span",{staticClass:"typcn typcn-arrow-down"})])]:[a("span",{directives:[{name:"show",rawName:"v-show",value:t.orderBy==e,expression:"orderBy==item"}]},[a("span",{staticClass:"typcn typcn-arrow-up"})])]],2)])}))],2)]),a("tbody",t._l(t.td,(function(e,s){return a("tr",{key:s+"td"},[a("td",[t._v(t._s(s+t.temp1+1))]),a("no-ssr",t._l(t.thnya,(function(n,i){return a("v-touch",{directives:[{name:"show",rawName:"v-show",value:!t.less.includes(n),expression:"!less.includes(item2)"}],key:i+"th2",staticClass:"cursor-pointer",attrs:{tag:"td"},domProps:{innerHTML:t._s(e[n])},on:{tap:function(a){t.ambil(e,s),t.modal=!0,t.aksi="update"}}})})),1)],1)})),0)])],a("div",{staticClass:"float-right"},[t.datanya.length>=t.selected?[a("button",{staticClass:"btn btn-sm btn-outline-info roundec-circle",attrs:{type:"button"},on:{click:t.pagPrev}},[t._v("Prev")]),t._v("\n           \n          "),a("button",{staticClass:"btn btn-sm btn-info roundec-circle",attrs:{type:"button"},on:{click:t.pagNext}},[t._v("Next")])]:[a("button",{staticClass:"btn btn-sm btn-black roundec-circle",attrs:{type:"button",disabled:""},on:{click:t.pagPrev}},[t._v("Prev")]),t._v("\n           \n          "),a("button",{staticClass:"btn btn-sm btn-black roundec-circle",attrs:{type:"button",disabled:""},on:{click:t.pagNext}},[t._v("Next")])]],2)],2)]):a("div",[a("p",{staticClass:"text-center"},[t._v("Loading Table ...")])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text"},[a("span",{staticClass:"typcn typcn-zoom"})])])}],i=(a("7514"),a("386d"),a("6b54"),a("a481"),a("ac6a"),a("456d"),a("1bdd")),o=a("eeb9"),r=a("bc3a"),l=a.n(r),c=a("03a0"),d={components:{upload:o["a"],downloadExcel:i["a"]},layout:"guru",data:function(){return{gurus:[],kelas:[],thbackground:"initial",thcolor:"asd",datanya:[],vdata:{},ready:!1,search:"",pilih:{name:"taufik",hobby:"coding"},thnya:{},err:!1,checkedItem:[],less:[,"_id","id_kelas","id_guru"],modal:!1,modalAction:"preview",selected:10,pagination:1,temp1:0,temp2:10,orderBy:"",orderWith:!0,mdq:"xlg",kirim:{},aksi:"insert",formOn:!1,updateOn:!1}},methods:{insert:function(){var t=this,e=new FormData;e.append("data","Insert into sekolah_jwalikelas (id_kelas,id_guru) VALUES ('".concat(this.vdata.id_kelas,"','").concat(this.vdata.id_guru,"')")),e.append("database","infolay3_test"),l.a.post("https://infolayanans.space/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log(e),alert("Simpan Data Berhasil!"),t.refreshData()})).catch((function(e){t.refreshData()}))},update:function(){var t=this,e=new FormData;e.append("data","UPDATE sekolah_jwalikelas SET id_kelas='".concat(this.vdata.id_kelas,"',id_guru='").concat(this.vdata.id_guru,"' Where id_jwalikelas = '").concat(this.vdata.id_jwalikelas,"'")),e.append("database","infolay3_test"),l.a.post("https://infolayanans.space/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log(e),alert("Update Data Berhasil!"),t.refreshData()})).catch((function(e){t.refreshData()}))},remove:function(){var t=this,e=new FormData;e.append("data","DELETE FROM sekolah_jwalikelas WHERE  id_jwalikelas =  '".concat(this.vdata.id_jwalikelas,"'")),e.append("database","infolay3_test"),confirm("Yakin dihapus?")&&l.a.post("https://infolayanans.space/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log(e),alert("Delete Data Berhasil!");var a=Object.keys(t.vdata);a.forEach((function(e){t.vdata[e]=""})),t.refreshData()})).catch((function(e){var a=Object.keys(t.vdata);a.forEach((function(e){t.vdata[e]=""})),t.refreshData()}))},ambil:function(t,e){window.scrollTo(0,0);this.updateOn=!0,this.formOn=!0;var a=this.$_.clone(t);console.log(a),this.vdata=a,this.pilih=t},clearInput:function(){var t=this;this.formOn=!0;var e=Object.keys(this.vdata);e.forEach((function(e){t.vdata[e]=""}))},refreshData:function(){var t=this,e=new FormData;e.append("data","select tb1.id_jwalikelas,tb3.nama_kelas,tb1.id_kelas,tb2.nama_guru,tb1.id_guru from sekolah_jwalikelas tb1 left join sekolah_data_guru tb2 on tb2.id_guru=tb1.id_guru left join setup_kelas tb3 on tb3.id_kelas=tb1.id_kelas"),e.append("table","sekolah_jwalikelas"),e.append("database","infolay3_test"),e.append("aksi","select"),l.a.post("https://infolayanans.space/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log("mysql auto",e),setTimeout((function(){(function(){var t,e;Array.prototype.forEach.call(document.querySelectorAll("table th"),(function(a){a.style.position="relative";var s=document.createElement("div");s.innerHTML="&nbsp;",s.style.top=0,s.style.right=0,s.style.bottom=0,s.style.width="5px",s.style.position="absolute",s.style.cursor="col-resize",s.addEventListener("mousedown",(function(s){t=a,e=a.offsetWidth-s.pageX})),a.appendChild(s)})),document.addEventListener("mousemove",(function(a){t&&(t.style.width=e+a.pageX+"px")})),document.addEventListener("mouseup",(function(){t=void 0}))})(),t.datanya=e.data;var a=Object.keys(e.data[0]);a=t.$_.difference(a,t.unless),t.thnya=a}),1e3)}))},
//!==================
//! hapus dari sini
//! =================
scramble:function(t){for(var e="",a="",s=0;s<t.length;s++)e="",e=t.charAt(s),"a"==e?e=e.replace("a","x"):"b"==e?e=e.replace("b","v"):"c"==e?e=e.replace("c","u"):"d"==e?e=e.replace("d","w"):"e"==e?e=e.replace("e","y"):"f"==e?e=e.replace("f","z"):"g"==e?e=e.replace("g","t"):"h"==e?e=e.replace("h","s"):"i"==e?e=e.replace("i","r"):"j"==e?e=e.replace("j","q"):"k"==e?e=e.replace("k","p"):"l"==e?e=e.replace("l","o"):"m"==e?e=e.replace("m","n"):"z"==e?e=e.replace("z","f"):"y"==e?e=e.replace("y","e"):"x"==e?e=e.replace("x","a"):"w"==e?e=e.replace("w","d"):"v"==e?e=e.replace("v","b"):"u"==e?e=e.replace("u","c"):"t"==e?e=e.replace("t","g"):"s"==e?e=e.replace("s","h"):"r"==e?e=e.replace("r","i"):"q"==e?e=e.replace("q","j"):"p"==e?e=e.replace("p","k"):"o"==e?e=e.replace("o","l"):"n"==e?e=e.replace("n","m"):"1"==e?e=e.replace("1","0"):"2"==e?e=e.replace("2","8"):"3"==e?e=e.replace("3","9"):"4"==e?e=e.replace("4","7"):"5"==e?e=e.replace("5","6"):"0"==e?e=e.replace("0","1"):"8"==e?e=e.replace("8","2"):"9"==e?e=e.replace("9","3"):"7"==e?e=e.replace("7","4"):"6"==e?e=e.replace("6","5"):" "==e?e=e.replace(" ","_"):"_"==e?e=e.replace("_"," "):"*"==e?e=e.replace("*","/"):"/"==e?e=e.replace("/","*"):","==e?e=e.replace(",","^"):"^"==e&&(e=e.replace("^",",")),a+=e;return a},checkedAll:function(){console.log(this.checkedItem)},print1:function(){this.$router.push("/laporan/perdata?less=".concat(this.less.toString())),this.$store.state.print2=[],this.$store.state.print2.push(this.pilih),alert("print satu")},print2:function(){this.$router.push("/laporan/print?less=".concat(this.less.toString())),this.$store.state.print2=this.td,alert("print banyak")},linknya:function(t){console.log("link",t),this.vdata.Gambars=t,this.$forceUpdate()},go:function(t){console.log("uploaded")},edits:function(){var t=this;setTimeout((function(){t.$nuxt.$emit("editTable1",obj)}),1e3)},modalKey:function(t){"Escape"==t.key&&(this.modal=!1)},isDate:function(t){var e;return"[object Date]"===toString.call(t)||("function"===typeof t.replace&&t.replace(/^s+|s+$/gm,""),e=/(^d{1,4}[.|\/|-]d{1,2}[.|\/|-]d{1,4})(s*(?:0?[1-9]:[0-5]|1(?=[012])d:[0-5])ds*[ap]m)?$/,e.test(t))},distance:function(){return this.$datefns.distanceInWords(new Date("2018-12-25T03:21:12.941Z"),new Date,{locale:c,includeSeconds:!0})},format:function(t){return this.$datefns.format(t,"DD MMMM YYYY",{locale:c})},distanceToNow:function(){return this.$datefns.distanceInWordsToNow(new Date(2015,0,1,0,0,15),{locale:c,includeSeconds:!0})},pagPrev:function(){this.pagination=this.pagination-1,0==this.pagination&&(this.pagination=1),this.temp2=this.pagination*this.selected,this.temp1=Math.ceil(this.temp2)-this.selected},pagNext:function(){this.pagination=this.pagination+1,this.pagination>this.bagi+1&&(this.pagination=Math.round(this.bagi)),this.temp2=this.pagination*this.selected,this.temp1=Math.ceil(this.temp2)-this.selected},sort:function(t){this.orderBy=t,this.orderWith=!this.orderWith},mediaQueries:function(){this.mdq=window.innerWidth<=576?"sm":window.innerWidth<=768?"md":window.innerWidth<=992?"lg":"xl"}//!==================
//! hapus sampai sini
//! =================
},props:{unless:{type:Array,required:!1,default:function(){return["gone"]}},unlessForm:{type:Array,required:!1,default:function(){return["gone"]}},date:{type:Array,required:!1,default:function(){return["ditanyakan"]}}},watch:{modal:function(){this.modal?document.addEventListener("keydown",this.modalKey):(document.removeEventListener("keydown",this.modalKey),document.removeEventListener("keydown",this.modalKey),document.removeEventListener("keydown",this.modalKey))},datanya:function(){this.datanya.length>0&&(this.ready=!0)},selected:function(){this.temp2=this.pagination*this.selected,this.temp1=this.temp2-this.selected},search:function(){this.pagination=1,this.temp2=this.pagination*this.selected,this.temp1=this.temp2-this.selected}},computed:{pilihForm:function(){var t=this.pilih;Object.keys(t);return this.unlessForm.forEach((function(e){delete t[e]})),t},bagi:function(){var t=this.datanya;return t=t.length/10,console.log(t),t},th:function(){var t=this.datanya,e=Object.keys(t[0]);return e=this.$_.difference(e,this.unless),e},td:function(){var t=this,e=this,a=this.datanya;//! order fungsi
if(this.orderBy.length>0){var s=this.orderWith?"asc":"desc";a=this.$_.orderBy(a,[this.orderBy],[s])}//! search fungsi
var n=this.thnya;return a=a.filter((function(e,a,s){var i=!1;if(n.filter((function(a){"string"==typeof e[a]?-1!=e[a].toLowerCase().indexOf(t.search.toLowerCase())&&(i=!0):null!=e[a]&&-1!=e[a].toString().indexOf(t.search)&&(i=!0)})),i)return e})),a=a.map((function(t){var a={},s=Object.keys(t);return s=e.$_.difference(s,e.unless),s.forEach((function(n,i){s.find((function(t){return t==e.date[i]})),a[n]=t[n]})),a})),a=a.slice(this.temp1,this.temp2),a}},mounted:function(){var t=this,e=new FormData;e.append("data","select id_guru,nama_guru from sekolah_data_guru"),e.append("database","infolay3_test"),l.a.post("https://infolayanans.space/api/mysql/auto.php",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log(e),t.gurus=e.data,t.$forceUpdate()}));var a=new FormData;a.append("data","select id_kelas,nama_kelas from setup_kelas"),a.append("database","infolay3_test"),l.a.post("https://infolayanans.space/api/mysql/auto.php",a,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(e){console.log(e),t.kelas=e.data,t.$forceUpdate()}));var s=this;s.mediaQueries(),this.$nextTick((function(){window.addEventListener("resize",(function(){s.mediaQueries()}))})),this.refreshData()}},p=d,u=(a("25ce"),a("2877")),h=Object(u["a"])(p,s,n,!1,null,"0b30bf57",null);e["default"]=h.exports}}]);
//# sourceMappingURL=page-sekolah-guru-wali-kelas.d740e097.js.map