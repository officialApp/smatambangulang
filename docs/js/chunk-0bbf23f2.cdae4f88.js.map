{"version":3,"sources":["webpack:///./node_modules/kalendar-vue/dist/kalendar-weekview-7d89e606.js","webpack:///(webpack)/buildin/harmony-module.js"],"names":["PromiseWorker","worker","messageIds","callbacks","addEventListener","e","onMessage","message","data","Array","isArray","length","messageId","error","result","callback","initiateWorker","_worker","postMessage","userMessage","messageToSend","Promise","resolve","reject","Error","controller","channel","MessageChannel","port1","onmessage","port2","kIsNodeJS","Object","prototype","toString","call","process","kRequire","module","require","browserDecodeBase64","base64","enableUnicode","binaryString","atob","binaryView","Uint8Array","forEach","el","idx","arr","charCodeAt","String","fromCharCode","apply","Uint16Array","buffer","nodeDecodeBase64","Buffer","from","createBase64WorkerFactory","sourcemap","source","start","indexOf","body","substring","Worker","options","assign","eval","blob","Blob","type","url","URL","createObjectURL","WorkerFactory","promiseWorker","send","arguments","undefined","myWorker","script","props","created","this","renderDay","components","kalendarCell","provide","kalendarAddEvent","addEvent","kalendarClearPopups","clearCreatingLeftovers","inject","mounted","kalendar_options","scrollToNow","isToday","scrollView","computed","isWeekend","day","value","creator","creating","starting_cell","original_starting_cell","current_cell","ending_cell","status","temporary_event","day_cells","day_events","methods","_this","hourOptions","start_hour","day_starts_at","end_hour","day_ends_at","then","reply","getDayEvents","$kalendar","getEvents","payload","_this2","validation_message","checkEventValidity","to","event","constructed_event","key","hasOwnProperty","push","$set","events","id","updateEvents","removeEvent","eventIndex","findIndex","splice","index","_this3","clonedEvents","map","constructed_events","hasPending","some","completed","filter","resetEvents","temporary_id","updateCreator","validateSelection","overlap","keys","fixedOverlap","overlapPolice","selectCell","initiatePopup","direction","_this$creator","real_ending_cell_index","diffInMs","Date","diffInHrs","Math","floor","diffMins","round","startDate","endDate","distance","masked_value","toISOString","rounded","round_offset","end","_this$creator2","finalEvent","updated_events","_this4","overlapped","evKey","flat","cellStart","cellEnd","eventStarts","eventEnds","newPayload","needed_cell","event_cell","find","c","cell","_needed_cell","_event_cell","_cell","topoffset","$refs","nowIndicator","offsetTop","setTimeout","window","scroll","top","left","behavior","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","ref","staticClass","class","staticStyle","style","passedTime","directives","name","rawName","expression","_e","_v","_l","attrs","on","$event","__vue_staticRenderFns__","__vue_inject_styles__","media","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","render","staticRenderFns","script$1","current_day","required","validator","d","isNaN","parse","KalendarDays","addHelperMethods","setInterval","now","constructWeek","hours","days","hoursVisible","x","visible","colsSpace","hourHeight","cell_height","_this$kalendar_option","time","day_starts","concat","split","padStart","day_ends","time_obj","_isToday","updateAppointments","_ref","$emit","deleteAppointment","clearAppointments","isDayBefore","formattedNow","date","slice","_this$kalendar_option2","hide_dates","hide_days","view_type","all","buildWeek","addNewEvent","targetRef","refObject","closePopups","refs","__vue_script__$1","__vue_render__$1","today","_s","formatDayTitle","hour","formatLeftHours","refInFor","__vue_staticRenderFns__$1","__vue_inject_styles__$1","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","exports","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","i"],"mappings":"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","file":"js/chunk-0bbf23f2.cdae4f88.js","sourcesContent":["import { i as isWeekend, a as isToday, g as getLocaleTime, b as _objectSpread2, c as cloneObject, d as __vue_normalize__, e as __vue_create_injector__, f as isBefore, h as getHourlessDate, j as addTimezoneInfo } from './index-cb588f9f.js';\nimport 'vue';\n\nfunction PromiseWorker (worker) {\n  var messageIds = 0;\n  var callbacks = {};\n  worker.addEventListener(\"message\", function (e) {\n    return onMessage(e);\n  });\n\n  var onMessage = function onMessage(e) {\n    var message = e.data;\n\n    if (!Array.isArray(message) || message.length < 2) {\n      return;\n    }\n\n    var messageId = message[0];\n    var error = message[1];\n    var result = message[2];\n    var callback = callbacks[messageId];\n    if (!callback) return;\n    delete callbacks[messageId];\n    callback(error, result);\n  };\n\n  return {\n    initiateWorker: function initiateWorker(_worker) {},\n    postMessage: function postMessage(userMessage) {\n      var messageId = messageIds++;\n      var messageToSend = [messageId, userMessage];\n      return new Promise(function (resolve, reject) {\n        callbacks[messageId] = function (error, result) {\n          if (error) return reject(new Error(error.message));\n          resolve(result);\n        };\n\n        if (typeof worker.controller !== \"undefined\") {\n          // service worker, use MessageChannels because e.source is broken in Chrome < 51:\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=543198\n          var channel = new MessageChannel();\n\n          channel.port1.onmessage = function (e) {\n            onMessage(e);\n          };\n\n          worker.controller.postMessage(messageToSend, [channel.port2]);\n        } else {\n          // web worker\n          worker.postMessage(messageToSend);\n        }\n      });\n    }\n  };\n}\n\nconst kIsNodeJS = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\nconst kRequire = kIsNodeJS && typeof module.require === 'function' ? module.require : null; // eslint-disable-line\n\nfunction browserDecodeBase64(base64, enableUnicode) {\n    const binaryString = atob(base64);\n    if (enableUnicode) {\n        const binaryView = new Uint8Array(binaryString.length);\n        Array.prototype.forEach.call(binaryView, (el, idx, arr) => {\n            arr[idx] = binaryString.charCodeAt(idx);\n        });\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction nodeDecodeBase64(base64, enableUnicode) {\n    return Buffer.from(base64, 'base64').toString(enableUnicode ? 'utf16' : 'utf8');\n}\n\nfunction createBase64WorkerFactory(base64, sourcemap = null, enableUnicode = false) {\n    const source = kIsNodeJS ? nodeDecodeBase64(base64, enableUnicode) : browserDecodeBase64(base64, enableUnicode);\n    const start = source.indexOf('\\n', 10) + 1;\n    const body = source.substring(start) + (sourcemap ? `\\/\\/# sourceMappingURL=${sourcemap}` : '');\n\n    if (kRequire) {\n        /* node.js */\n        const Worker = kRequire('worker_threads').Worker; // eslint-disable-line\n        return function WorkerFactory(options) {\n            return new Worker(body, Object.assign({}, options, { eval: true }));\n        };\n    }\n\n    /* browser */\n    const blob = new Blob([body], { type: 'application/javascript' });\n    const url = URL.createObjectURL(blob);\n    return function WorkerFactory(options) {\n        return new Worker(url, options);\n    };\n}\n\n/* eslint-disable */\nconst WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwpmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogIGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7CiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikgewogICAgICByZXR1cm4gdHlwZW9mIG9iajsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICB9OwogIH0KCiAgcmV0dXJuIF90eXBlb2Yob2JqKTsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsKICBpZiAoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCi8vdG9kbzogcmVtb3ZlIHRoaXMgYW5kIGZvcmsgcHJvbWlzZS13b3JrZXIgdG8gcHJvdmlkZSBFU00KCmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHsKICAvLyB2aWEgaHR0cHM6Ly91bnBrZy5jb20vaXMtcHJvbWlzZUAyLjEuMC9pbmRleC5qcwogIHJldHVybiAhIW9iaiAmJiAoX3R5cGVvZihvYmopID09PSAib2JqZWN0IiB8fCB0eXBlb2Ygb2JqID09PSAiZnVuY3Rpb24iKSAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICJmdW5jdGlvbiI7Cn0KCmZ1bmN0aW9uIHJlZ2lzdGVyUHJvbWlzZVdvcmtlciAoY2FsbGJhY2spIHsKICBmdW5jdGlvbiBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgZXJyb3IsIHJlc3VsdCkgewogICAgZnVuY3Rpb24gcG9zdE1lc3NhZ2UobXNnKSB7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAodHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgIT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAvLyBzZXJ2aWNlIHdvcmtlcgogICAgICAgIGUucG9ydHNbMF0ucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB3ZWIgd29ya2VyCiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShtc2cpOwogICAgICB9CiAgICB9CgogICAgaWYgKGVycm9yKSB7CgogICAgICBwb3N0TWVzc2FnZShbbWVzc2FnZUlkLCB7CiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZQogICAgICB9XSk7CiAgICB9IGVsc2UgewogICAgICBwb3N0TWVzc2FnZShbbWVzc2FnZUlkLCBudWxsLCByZXN1bHRdKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRyeUNhdGNoRnVuYyhjYWxsYmFjaywgbWVzc2FnZSkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHsKICAgICAgICByZXM6IGNhbGxiYWNrKG1lc3NhZ2UpCiAgICAgIH07CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXJyOiBlCiAgICAgIH07CiAgICB9CiAgfQoKICBmdW5jdGlvbiBoYW5kbGVJbmNvbWluZ01lc3NhZ2UoZSwgY2FsbGJhY2ssIG1lc3NhZ2VJZCwgbWVzc2FnZSkgewogICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoRnVuYyhjYWxsYmFjaywgbWVzc2FnZSk7CgogICAgaWYgKHJlc3VsdC5lcnIpIHsKICAgICAgcG9zdE91dGdvaW5nTWVzc2FnZShlLCBtZXNzYWdlSWQsIHJlc3VsdC5lcnIpOwogICAgfSBlbHNlIGlmICghaXNQcm9taXNlKHJlc3VsdC5yZXMpKSB7CiAgICAgIHBvc3RPdXRnb2luZ01lc3NhZ2UoZSwgbWVzc2FnZUlkLCBudWxsLCByZXN1bHQucmVzKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdC5yZXMudGhlbihmdW5jdGlvbiAoZmluYWxSZXN1bHQpIHsKICAgICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgbnVsbCwgZmluYWxSZXN1bHQpOwogICAgICB9LCBmdW5jdGlvbiAoZmluYWxFcnJvcikgewogICAgICAgIHBvc3RPdXRnb2luZ01lc3NhZ2UoZSwgbWVzc2FnZUlkLCBmaW5hbEVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvbkluY29taW5nTWVzc2FnZShlKSB7CiAgICB2YXIgcGF5bG9hZCA9IGUuZGF0YTsKCiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGF5bG9hZCkgfHwgcGF5bG9hZC5sZW5ndGggIT09IDIpIHsKICAgICAgLy8gbWVzc2FnZSBkb2Vucyd0IG1hdGNoIGNvbW11bmljYXRpb24gZm9ybWF0OyBpZ25vcmUKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBtZXNzYWdlSWQgPSBwYXlsb2FkWzBdOwogICAgdmFyIG1lc3NhZ2UgPSBwYXlsb2FkWzFdOwoKICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHsKICAgICAgcG9zdE91dGdvaW5nTWVzc2FnZShlLCBtZXNzYWdlSWQsIG5ldyBFcnJvcigiUGxlYXNlIHBhc3MgYSBmdW5jdGlvbiBpbnRvIHJlZ2lzdGVyKCkuIikpOwogICAgfSBlbHNlIHsKICAgICAgaGFuZGxlSW5jb21pbmdNZXNzYWdlKGUsIGNhbGxiYWNrLCBtZXNzYWdlSWQsIG1lc3NhZ2UpOwogICAgfQogIH0KCiAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgb25JbmNvbWluZ01lc3NhZ2UpOwp9Cgp2YXIgY3JlYXRvcnNfb2Zmc2V0ID0gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjA7CgppZiAoY3JlYXRvcnNfb2Zmc2V0ICogLTEgPj0gMCkgewogIGNyZWF0b3JzX29mZnNldCAqPSAtMTsKICBjcmVhdG9yc19vZmZzZXQgPSAiIi5jb25jYXQoKGNyZWF0b3JzX29mZnNldCArICIiKS5wYWRTdGFydCgyLCAiMCIpLCAiOjAwIik7CiAgY3JlYXRvcnNfb2Zmc2V0ID0gIisiLmNvbmNhdChjcmVhdG9yc19vZmZzZXQpOwp9IGVsc2UgewogIGNyZWF0b3JzX29mZnNldCA9ICIiLmNvbmNhdCgoY3JlYXRvcnNfb2Zmc2V0ICsgIiIpLnBhZFN0YXJ0KDIsICIwIiksICI6MDAiKTsKICBjcmVhdG9yc19vZmZzZXQgPSAiLSIuY29uY2F0KGNyZWF0b3JzX29mZnNldCk7Cn0KCnZhciBnZXRIb3VybGVzc0RhdGUgPSBmdW5jdGlvbiBnZXRIb3VybGVzc0RhdGUoZGF0ZV9zdHJpbmcpIHsKICB2YXIgdG9kYXkgPSBkYXRlX3N0cmluZyA/IG5ldyBEYXRlKGRhdGVfc3RyaW5nKSA6IG5ldyBEYXRlKCk7CiAgdmFyIHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpICsgIiIsCiAgICAgIG1vbnRoID0gKHRvZGF5LmdldE1vbnRoKCkgKyAxICsgIiIpLnBhZFN0YXJ0KDIsICIwIiksCiAgICAgIGRheSA9ICh0b2RheS5nZXREYXRlKCkgKyAiIikucGFkU3RhcnQoMiwgIjAiKTsKICByZXR1cm4gIiIuY29uY2F0KHllYXIsICItIikuY29uY2F0KG1vbnRoLCAiLSIpLmNvbmNhdChkYXksICJUMDA6MDA6MDAuMDAwWiIpOwp9OwoKdmFyIGdldFllYXJNb250aERheSA9IGZ1bmN0aW9uIGdldFllYXJNb250aERheShkYXRlX3N0cmluZykgewogIHJldHVybiBnZXRIb3VybGVzc0RhdGUoZGF0ZV9zdHJpbmcpLnNsaWNlKDAsIDEwKTsKfTsKCnZhciBhZGREYXlzID0gZnVuY3Rpb24gYWRkRGF5cyhkYXRlLCBkYXlzKSB7CiAgdmFyIGRhdGVPYmogPSBuZXcgRGF0ZShkYXRlKTsKICBkYXRlT2JqLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApOwogIGRhdGVPYmouc2V0RGF0ZShkYXRlT2JqLmdldERhdGUoKSArIGRheXMpOwogIHJldHVybiBkYXRlT2JqOwp9OwoKdmFyIGdlbmVyYXRlVVVJRCA9IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHsKICByZXR1cm4gKFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csIGZ1bmN0aW9uIChjKSB7CiAgICByZXR1cm4gKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNik7CiAgfSk7Cn07Cgp2YXIgZ2V0TG9jYWxlVGltZSA9IGZ1bmN0aW9uIGdldExvY2FsZVRpbWUoZGF0ZVN0cmluZykgewogIHZhciBfdG9Mb2NhbGVTdHJpbmckc3BsaXQgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKS50b0xvY2FsZVN0cmluZygiZW4tR0IiKS5zcGxpdCgiLCAiKSwKICAgICAgX3RvTG9jYWxlU3RyaW5nJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF90b0xvY2FsZVN0cmluZyRzcGxpdCwgMiksCiAgICAgIGRhdGUgPSBfdG9Mb2NhbGVTdHJpbmckc3BsaXQyWzBdLAogICAgICBob3VyID0gX3RvTG9jYWxlU3RyaW5nJHNwbGl0MlsxXTsKCiAgZGF0ZSA9IGRhdGUuc3BsaXQoIi8iKS5yZXZlcnNlKCkuam9pbigiLSIpOwogIHJldHVybiAiIi5jb25jYXQoZGF0ZSwgIlQiKS5jb25jYXQoaG91ciwgIi4wMDBaIik7Cn07Cgp2YXIgaG91clV0aWxzID0gewogIGdldEFsbEhvdXJzOiBmdW5jdGlvbiBnZXRBbGxIb3VycygpIHsKICAgIHJldHVybiBbIjAwOjAwOjAwIiwgIjAwOjEwOjAwIiwgIjAwOjIwOjAwIiwgIjAwOjMwOjAwIiwgIjAwOjQwOjAwIiwgIjAwOjUwOjAwIiwgIjAxOjAwOjAwIiwgIjAxOjEwOjAwIiwgIjAxOjIwOjAwIiwgIjAxOjMwOjAwIiwgIjAxOjQwOjAwIiwgIjAxOjUwOjAwIiwgIjAyOjAwOjAwIiwgIjAyOjEwOjAwIiwgIjAyOjIwOjAwIiwgIjAyOjMwOjAwIiwgIjAyOjQwOjAwIiwgIjAyOjUwOjAwIiwgIjAzOjAwOjAwIiwgIjAzOjEwOjAwIiwgIjAzOjIwOjAwIiwgIjAzOjMwOjAwIiwgIjAzOjQwOjAwIiwgIjAzOjUwOjAwIiwgIjA0OjAwOjAwIiwgIjA0OjEwOjAwIiwgIjA0OjIwOjAwIiwgIjA0OjMwOjAwIiwgIjA0OjQwOjAwIiwgIjA0OjUwOjAwIiwgIjA1OjAwOjAwIiwgIjA1OjEwOjAwIiwgIjA1OjIwOjAwIiwgIjA1OjMwOjAwIiwgIjA1OjQwOjAwIiwgIjA1OjUwOjAwIiwgIjA2OjAwOjAwIiwgIjA2OjEwOjAwIiwgIjA2OjIwOjAwIiwgIjA2OjMwOjAwIiwgIjA2OjQwOjAwIiwgIjA2OjUwOjAwIiwgIjA3OjAwOjAwIiwgIjA3OjEwOjAwIiwgIjA3OjIwOjAwIiwgIjA3OjMwOjAwIiwgIjA3OjQwOjAwIiwgIjA3OjUwOjAwIiwgIjA4OjAwOjAwIiwgIjA4OjEwOjAwIiwgIjA4OjIwOjAwIiwgIjA4OjMwOjAwIiwgIjA4OjQwOjAwIiwgIjA4OjUwOjAwIiwgIjA5OjAwOjAwIiwgIjA5OjEwOjAwIiwgIjA5OjIwOjAwIiwgIjA5OjMwOjAwIiwgIjA5OjQwOjAwIiwgIjA5OjUwOjAwIiwgIjEwOjAwOjAwIiwgIjEwOjEwOjAwIiwgIjEwOjIwOjAwIiwgIjEwOjMwOjAwIiwgIjEwOjQwOjAwIiwgIjEwOjUwOjAwIiwgIjExOjAwOjAwIiwgIjExOjEwOjAwIiwgIjExOjIwOjAwIiwgIjExOjMwOjAwIiwgIjExOjQwOjAwIiwgIjExOjUwOjAwIiwgIjEyOjAwOjAwIiwgIjEyOjEwOjAwIiwgIjEyOjIwOjAwIiwgIjEyOjMwOjAwIiwgIjEyOjQwOjAwIiwgIjEyOjUwOjAwIiwgIjEzOjAwOjAwIiwgIjEzOjEwOjAwIiwgIjEzOjIwOjAwIiwgIjEzOjMwOjAwIiwgIjEzOjQwOjAwIiwgIjEzOjUwOjAwIiwgIjE0OjAwOjAwIiwgIjE0OjEwOjAwIiwgIjE0OjIwOjAwIiwgIjE0OjMwOjAwIiwgIjE0OjQwOjAwIiwgIjE0OjUwOjAwIiwgIjE1OjAwOjAwIiwgIjE1OjEwOjAwIiwgIjE1OjIwOjAwIiwgIjE1OjMwOjAwIiwgIjE1OjQwOjAwIiwgIjE1OjUwOjAwIiwgIjE2OjAwOjAwIiwgIjE2OjEwOjAwIiwgIjE2OjIwOjAwIiwgIjE2OjMwOjAwIiwgIjE2OjQwOjAwIiwgIjE2OjUwOjAwIiwgIjE3OjAwOjAwIiwgIjE3OjEwOjAwIiwgIjE3OjIwOjAwIiwgIjE3OjMwOjAwIiwgIjE3OjQwOjAwIiwgIjE3OjUwOjAwIiwgIjE4OjAwOjAwIiwgIjE4OjEwOjAwIiwgIjE4OjIwOjAwIiwgIjE4OjMwOjAwIiwgIjE4OjQwOjAwIiwgIjE4OjUwOjAwIiwgIjE5OjAwOjAwIiwgIjE5OjEwOjAwIiwgIjE5OjIwOjAwIiwgIjE5OjMwOjAwIiwgIjE5OjQwOjAwIiwgIjE5OjUwOjAwIiwgIjIwOjAwOjAwIiwgIjIwOjEwOjAwIiwgIjIwOjIwOjAwIiwgIjIwOjMwOjAwIiwgIjIwOjQwOjAwIiwgIjIwOjUwOjAwIiwgIjIxOjAwOjAwIiwgIjIxOjEwOjAwIiwgIjIxOjIwOjAwIiwgIjIxOjMwOjAwIiwgIjIxOjQwOjAwIiwgIjIxOjUwOjAwIiwgIjIyOjAwOjAwIiwgIjIyOjEwOjAwIiwgIjIyOjIwOjAwIiwgIjIyOjMwOjAwIiwgIjIyOjQwOjAwIiwgIjIyOjUwOjAwIiwgIjIzOjAwOjAwIiwgIjIzOjEwOjAwIiwgIjIzOjIwOjAwIiwgIjIzOjMwOjAwIiwgIjIzOjQwOjAwIiwgIjIzOjUwOjAwIiwgIjI0OjAwOjAwIl07CiAgfSwKICBnZXRGdWxsSG91cnM6IGZ1bmN0aW9uIGdldEZ1bGxIb3VycygpIHsKICAgIHJldHVybiBbIjAwOjAwOjAwIiwgIjAxOjAwOjAwIiwgIjAyOjAwOjAwIiwgIjAzOjAwOjAwIiwgIjA0OjAwOjAwIiwgIjA1OjAwOjAwIiwgIjA2OjAwOjAwIiwgIjA3OjAwOjAwIiwgIjA4OjAwOjAwIiwgIjA5OjAwOjAwIiwgIjEwOjAwOjAwIiwgIjExOjAwOjAwIiwgIjEyOjAwOjAwIiwgIjEzOjAwOjAwIiwgIjE0OjAwOjAwIiwgIjE1OjAwOjAwIiwgIjE2OjAwOjAwIiwgIjE3OjAwOjAwIiwgIjE4OjAwOjAwIiwgIjE5OjAwOjAwIiwgIjIwOjAwOjAwIiwgIjIxOjAwOjAwIiwgIjIyOjAwOjAwIiwgIjIzOjAwOjAwIl07CiAgfQp9OwoKcmVnaXN0ZXJQcm9taXNlV29ya2VyKGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgdmFyIHR5cGUgPSBtZXNzYWdlLnR5cGUsCiAgICAgIGRhdGEgPSBtZXNzYWdlLmRhdGE7CgogIGlmICh0eXBlID09PSAibWVzc2FnZSIpIHsKICAgIHJldHVybiAiV29ya2VyIHJlcGxpZXM6ICIuY29uY2F0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7CiAgfQoKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgImdldERheXMiOgogICAgICByZXR1cm4gZ2V0RGF5cyhkYXRhLmRheSwgZGF0YS5vcHRpb25zKTsKCiAgICBjYXNlICJnZXRIb3VycyI6CiAgICAgIHJldHVybiBnZXRIb3VycyhkYXRhLmhvdXJPcHRpb25zKTsKCiAgICBjYXNlICJnZXREYXlDZWxscyI6CiAgICAgIHJldHVybiBnZXREYXlDZWxscyhkYXRhLmRheSwgZGF0YS5ob3VyT3B0aW9ucyk7CgogICAgY2FzZSAiY29uc3RydWN0RGF5RXZlbnRzIjoKICAgICAgcmV0dXJuIGNvbnN0cnVjdERheUV2ZW50cyhkYXRhLmRheSwgZGF0YS5ldmVudHMpOwoKICAgIGNhc2UgImNvbnN0cnVjdE5ld0V2ZW50IjoKICAgICAgcmV0dXJuIGNvbnN0cnVjdE5ld0V2ZW50KGRhdGEuZXZlbnQpOwogIH0KfSk7CgpmdW5jdGlvbiBnZXREYXlzKGRheVN0cmluZywgX3JlZikgewogIHZhciBoaWRlX2RhdGVzID0gX3JlZi5oaWRlX2RhdGVzLAogICAgICBoaWRlX2RheXMgPSBfcmVmLmhpZGVfZGF5cywKICAgICAgdmlld190eXBlID0gX3JlZi52aWV3X3R5cGU7CiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgiIi5jb25jYXQoZGF5U3RyaW5nLCAiVDAwOjAwOjAwLjAwMFoiKSk7CiAgdmFyIGRheV9vZl93ZWVrID0gZGF0ZS5nZXRVVENEYXkoKSAtIDE7CiAgdmFyIGRheXMgPSBbXTsKCiAgaWYgKHZpZXdfdHlwZSA9PT0gImRheSIpIHsKICAgIGRheXMgPSBbewogICAgICB2YWx1ZTogZGF0ZS50b0lTT1N0cmluZygpLAogICAgICBpbmRleDogMAogICAgfV07CiAgfSBlbHNlIHsKICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IDc7IGlkeCsrKSB7CiAgICAgIGRheXMucHVzaCh7CiAgICAgICAgdmFsdWU6IGFkZERheXMoZGF0ZSwgaWR4IC0gZGF5X29mX3dlZWspLnRvSVNPU3RyaW5nKCksCiAgICAgICAgaW5kZXg6IGlkeAogICAgICB9KTsKICAgIH0KICB9CgogIGlmIChoaWRlX2RhdGVzICYmIGhpZGVfZGF0ZXMubGVuZ3RoID4gMCkgewogICAgZGF5cyA9IGRheXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTsKICAgICAgcmV0dXJuIGhpZGVfZGF0ZXMuaW5kZXhPZih2YWx1ZS5zbGljZSgwLCAxMCkpIDwgMDsKICAgIH0pOwogIH0KCiAgaWYgKGhpZGVfZGF5cyAmJiBoaWRlX2RheXMubGVuZ3RoID4gMCkgewogICAgZGF5cyA9IGRheXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgaW5kZXggPSBfcmVmMy5pbmRleDsKICAgICAgcmV0dXJuIGhpZGVfZGF5cy5pbmRleE9mKGluZGV4KSA8IDA7CiAgICB9KTsKICB9CgogIHJldHVybiBkYXlzOwp9CgpmdW5jdGlvbiBnZXRIb3Vycyhob3VyX29wdGlvbnMpIHsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTsKICB2YXIgaXNvX2RhdGUgPSBnZXRZZWFyTW9udGhEYXkoZGF0ZSk7CiAgdmFyIGRheV9ob3VycyA9IGhvdXJVdGlscy5nZXRGdWxsSG91cnMoKTsKCiAgaWYgKGhvdXJfb3B0aW9ucykgewogICAgdmFyIHN0YXJ0X2hvdXIgPSBob3VyX29wdGlvbnMuc3RhcnRfaG91ciwKICAgICAgICBlbmRfaG91ciA9IGhvdXJfb3B0aW9ucy5lbmRfaG91cjsKICAgIGRheV9ob3VycyA9IGRheV9ob3Vycy5zbGljZShzdGFydF9ob3VyLCBlbmRfaG91cik7CiAgfQoKICB2YXIgaG91cnMgPSBbXTsKCiAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgZGF5X2hvdXJzLmxlbmd0aDsgaWR4KyspIHsKICAgIHZhciB2YWx1ZSA9ICIiLmNvbmNhdChpc29fZGF0ZSwgIlQiKS5jb25jYXQoZGF5X2hvdXJzW2lkeF0sICIuMDAwWiIpOwogICAgaG91cnMucHVzaCh7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgaW5kZXg6IGlkeCwKICAgICAgdmlzaWJsZTogdHJ1ZQogICAgfSk7CiAgfQoKICByZXR1cm4gaG91cnM7Cn0KCnZhciBnZXREYXlDZWxscyA9IGZ1bmN0aW9uIGdldERheUNlbGxzKGRheVN0cmluZywgZGF5X29wdGlvbnMpIHsKICBpZiAobmV3IERhdGUoZGF5U3RyaW5nKS50b0lTT1N0cmluZygpICE9PSBkYXlTdHJpbmcpIHsKICAgIHRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgZGF5U3RyaW5nIHBhcmFtZXRlciBwcm92aWRlZCIpOwogIH0KCiAgdmFyIGNlbGxzID0gW107CiAgdmFyIGRhdGVfcGFydCA9IGRheVN0cmluZy5zbGljZSgwLCAxMCk7CiAgdmFyIGFsbF9ob3VycyA9IGhvdXJVdGlscy5nZXRBbGxIb3VycygpOwoKICBpZiAoZGF5X29wdGlvbnMpIHsKICAgIHZhciBzdGFydF9ob3VyID0gZGF5X29wdGlvbnMuc3RhcnRfaG91ciwKICAgICAgICBlbmRfaG91ciA9IGRheV9vcHRpb25zLmVuZF9ob3VyOwogICAgdmFyIHN0YXJ0X2luZGV4ID0gc3RhcnRfaG91ciAqIDY7CiAgICB2YXIgZW5kX2luZGV4ID0gZW5kX2hvdXIgKiA2ICsgMTsKICAgIGFsbF9ob3VycyA9IGFsbF9ob3Vycy5zbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4KTsKICB9CgogIGZvciAodmFyIGhvdXJJZHggPSAwOyBob3VySWR4IDwgYWxsX2hvdXJzLmxlbmd0aDsgaG91cklkeCsrKSB7CiAgICB2YXIgaG91ciA9IGFsbF9ob3Vyc1tob3VySWR4XTsKICAgIHZhciB2YWx1ZSA9ICIiLmNvbmNhdChkYXRlX3BhcnQsICJUIikuY29uY2F0KGhvdXIsICIuMDAwWiIpOwogICAgY2VsbHMucHVzaCh7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgaW5kZXg6IGhvdXJJZHgsCiAgICAgIHZpc2libGU6IHRydWUKICAgIH0pOwogIH0KCiAgcmV0dXJuIGNlbGxzOwp9OwoKdmFyIGNvbnN0cnVjdERheUV2ZW50cyA9IGZ1bmN0aW9uIGNvbnN0cnVjdERheUV2ZW50cyhkYXksIGV4aXN0aW5nX2V2ZW50cykgewogIHZhciBldmVudHNfZm9yX3RoaXNfZGF5ID0gZXhpc3RpbmdfZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBmcm9tID0gZXZlbnQuZnJvbSwKICAgICAgICB0byA9IGV2ZW50LnRvOwogICAgZnJvbSA9IGdldExvY2FsZVRpbWUoZnJvbSk7CiAgICB0byA9IGdldExvY2FsZVRpbWUodG8pOwogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKHt9LCBldmVudCwgewogICAgICBmcm9tOiBmcm9tLAogICAgICB0bzogdG8KICAgIH0pOwogIH0pLmZpbHRlcihmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBmcm9tID0gX3JlZjQuZnJvbTsKICAgIHJldHVybiBmcm9tLnNsaWNlKDAsIDEwKSA9PT0gZGF5LnNsaWNlKDAsIDEwKTsKICB9KTsKICBpZiAoZXZlbnRzX2Zvcl90aGlzX2RheS5sZW5ndGggPT09IDApIHJldHVybiB7fTsKICB2YXIgZmlsdGVyZWRfZXZlbnRzID0ge307CiAgZXZlbnRzX2Zvcl90aGlzX2RheS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGNvbnN0cnVjdGVkRXZlbnQgPSBjb25zdHJ1Y3ROZXdFdmVudChldmVudCk7CiAgICB2YXIga2V5ID0gY29uc3RydWN0ZWRFdmVudC5rZXk7CgogICAgaWYgKGZpbHRlcmVkX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgIGZpbHRlcmVkX2V2ZW50c1trZXldLnB1c2goY29uc3RydWN0ZWRFdmVudCk7CiAgICB9IGVsc2UgewogICAgICBmaWx0ZXJlZF9ldmVudHNba2V5XSA9IFtjb25zdHJ1Y3RlZEV2ZW50XTsKICAgIH0KICB9KTsKICByZXR1cm4gZmlsdGVyZWRfZXZlbnRzOwp9OwoKdmFyIGNvbnN0cnVjdE5ld0V2ZW50ID0gZnVuY3Rpb24gY29uc3RydWN0TmV3RXZlbnQoZXZlbnQpIHsKICB2YXIgZnJvbSA9IGV2ZW50LmZyb20sCiAgICAgIHRvID0gZXZlbnQudG87CiAgZnJvbSA9IG5ldyBEYXRlKGZyb20pOwogIHRvID0gbmV3IERhdGUodG8pOwogIGZyb20uc2V0VVRDU2Vjb25kcygwLCAwKTsKICB0by5zZXRVVENTZWNvbmRzKDAsIDApOwogIHZhciBmcm9tX3ZhbHVlID0gZnJvbS50b0lTT1N0cmluZygpOwogIHZhciBtYXNrZWRfZnJvbSA9IG5ldyBEYXRlKGZyb20uZ2V0VGltZSgpKTsKICB2YXIgbWFza2VkX3RvID0gbmV3IERhdGUodG8uZ2V0VGltZSgpKTsKICB2YXIgZnJvbURhdGEgPSB7CiAgICB2YWx1ZTogZnJvbV92YWx1ZSwKICAgIG1hc2tlZF92YWx1ZTogbWFza2VkX2Zyb20udG9JU09TdHJpbmcoKSwKICAgIHJvdW5kZWQ6IGZhbHNlLAogICAgcm91bmRfb2Zmc2V0OiBudWxsCiAgfTsKICB2YXIgdG9fdmFsdWUgPSB0by50b0lTT1N0cmluZygpOwogIHZhciB0b0RhdGEgPSB7CiAgICB2YWx1ZTogdG9fdmFsdWUsCiAgICBtYXNrZWRfdmFsdWU6IG1hc2tlZF90by50b0lTT1N0cmluZygpLAogICAgcm91bmRlZDogZmFsc2UsCiAgICByb3VuZF9vZmZzZXQ6IG51bGwKICB9OwoKICB2YXIgbXVsdGlwbGVPZjEwID0gZnVuY3Rpb24gbXVsdGlwbGVPZjEwKGRhdGVTdHIpIHsKICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyKS5nZXRNaW51dGVzKCkgJSAxMDsKICB9OwoKICBpZiAobXVsdGlwbGVPZjEwKGZyb21EYXRhLnZhbHVlKSAhPT0gMCkgewogICAgZnJvbURhdGEucm91bmRlZCA9IHRydWU7CiAgICBmcm9tRGF0YS5yb3VuZF9vZmZzZXQgPSBtdWx0aXBsZU9mMTAoZnJvbURhdGEudmFsdWUpOwogICAgdmFyIG1pbnV0ZXMgPSBuZXcgRGF0ZShmcm9tRGF0YS52YWx1ZSkuZ2V0TWludXRlcygpOwogICAgdmFyIG1hc2tlZE1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyAxMCkgKiAxMDsKICAgIG1hc2tlZF9mcm9tLnNldE1pbnV0ZXMobWFza2VkTWludXRlcyk7CiAgICBmcm9tRGF0YS5tYXNrZWRfdmFsdWUgPSBtYXNrZWRfZnJvbS50b0lTT1N0cmluZygpOwogIH0KCiAgdmFyIGV2ZW50S2V5ID0gbWFza2VkX2Zyb20udG9JU09TdHJpbmcoKTsgLy8gMSBtaW51dGUgZXF1YWxzIDEgcGl4ZWwgaW4gb3VyIHZpZXcuIFRoYXQgbWVhbnMgd2UgbmVlZCB0byBmaW5kIHRoZSBsZW5ndGgKICAvLyBvZiB0aGUgZXZlbnQgYnkgZmluZGluZyBvdXQgdGhlIGRpZmZlcmVuY2UgaW4gbWludXRlcwoKICB2YXIgZGlmZkluTXMgPSB0byAtIGZyb207CiAgdmFyIGRpZmZJbkhycyA9IE1hdGguZmxvb3IoZGlmZkluTXMgJSA4NjQwMDAwMCAvIDM2MDAwMDApOwogIHZhciBkaWZmTWlucyA9IE1hdGgucm91bmQoZGlmZkluTXMgJSA4NjQwMDAwMCAlIDM2MDAwMDAgLyA2MDAwMCk7CiAgdmFyIGNvbnN0cnVjdGVkRXZlbnQgPSB7CiAgICBzdGFydDogZnJvbURhdGEsCiAgICBlbmQ6IHRvRGF0YSwKICAgIGRhdGE6IGV2ZW50LmRhdGEsCiAgICBpZDogZXZlbnQuaWQgfHwgZ2VuZXJhdGVVVUlEKCksCiAgICBkaXN0YW5jZTogZGlmZk1pbnMgKyBkaWZmSW5IcnMgKiA2MCwKICAgIHN0YXR1czogImNvbXBsZXRlZCIsCiAgICBrZXk6IGV2ZW50S2V5CiAgfTsKICByZXR1cm4gY29uc3RydWN0ZWRFdmVudDsKfTsKCg==', null, false);\n/* eslint-enable */\n\nvar worker = new WorkerFactory();\nvar promiseWorker = PromiseWorker(worker);\n\nvar send = function send() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"message\";\n  var data = arguments.length > 1 ? arguments[1] : undefined;\n  return promiseWorker.postMessage({\n    type: type,\n    data: data\n  });\n};\n\nvar myWorker = {\n  send: send\n};\n\nvar script = {\n  props: [\"day\", \"passedTime\"],\n  created: function created() {\n    // get and render day cells\n    // and then render any event\n    // on top of them\n    this.renderDay();\n  },\n  components: {\n    kalendarCell: function kalendarCell() {\n      return import('./kalendar-cell-148179a7.js');\n    }\n  },\n  provide: function provide() {\n    // provide these methods to children components\n    // for easier access\n    return {\n      kalendarAddEvent: this.addEvent,\n      kalendarClearPopups: this.clearCreatingLeftovers\n    };\n  },\n  // inject kalendar options from parent component\n  inject: [\"kalendar_options\"],\n  mounted: function mounted() {\n    if (this.kalendar_options.scrollToNow && this.isToday) this.scrollView();\n  },\n  computed: {\n    isWeekend: function isWeekend$1() {\n      return isWeekend(this.day.value);\n    },\n    isToday: function isToday$1() {\n      return isToday(this.day.value);\n    }\n  },\n  data: function data() {\n    return {\n      // this is the main object\n      // we use to make selections\n      // and control their flows\n      creator: {\n        creating: false,\n        starting_cell: null,\n        original_starting_cell: null,\n        current_cell: null,\n        ending_cell: null,\n        status: null\n      },\n      // temporary event is an object\n      // that holds values of creator\n      // when the popup is initiated\n      temporary_event: null,\n      // day cells and events are used for rendering purposes\n      day_cells: [],\n      day_events: null\n    };\n  },\n  methods: {\n    renderDay: function renderDay() {\n      var _this = this;\n\n      myWorker.send(\"getDayCells\", {\n        day: this.day.value,\n        hourOptions: {\n          start_hour: this.kalendar_options.day_starts_at,\n          end_hour: this.kalendar_options.day_ends_at\n        }\n      }).then(function (reply) {\n        _this.day_cells = reply;\n        return _this.getDayEvents(_this.$kalendar.getEvents());\n      });\n    },\n    addEvent: function addEvent(payload) {\n      var _this2 = this;\n\n      // validation\n      var validation_message = this.checkEventValidity(payload);\n\n      if (validation_message !== null) {\n        return Promise.reject(validation_message);\n      } // use web worker to generate event\n      // and then render it in the day_events objects\n\n\n      var from = payload.from,\n          to = payload.to;\n      from = getLocaleTime(from);\n      to = getLocaleTime(to);\n      return myWorker.send(\"constructNewEvent\", {\n        event: _objectSpread2({}, payload, {\n          from: from,\n          to: to\n        })\n      }).then(function (constructed_event) {\n        var key = constructed_event.key;\n\n        if (_this2.day_events.hasOwnProperty(key)) {\n          _this2.day_events[key].push(constructed_event);\n        } else {\n          // must use $set since key wasnt present in the object\n          // vue will fail to render it\n          _this2.$set(_this2.day_events, key, [constructed_event]);\n        }\n\n        var events = _this2.$kalendar.getEvents();\n        events.push(_objectSpread2({}, payload, {\n          id: constructed_event.id\n        }));\n\n        _this2.$kalendar.updateEvents(events);\n      });\n    },\n    // this is not called inside this component\n    // but rather from the kalendar-weekview component\n    // which targets it using $refs object.\n    removeEvent: function removeEvent(payload) {\n      var events = this.$kalendar.getEvents();\n      var eventIndex = events.findIndex(function (event) {\n        return event.id === payload.id;\n      });\n      if (eventIndex < 0) return;\n      events.splice(eventIndex, 1);\n      var index = this.day_events[payload.key].findIndex(function (event) {\n        return event.id === payload.id;\n      });\n      this.day_events[payload.key].splice(index, 1);\n      this.$kalendar.updateEvents(events);\n      return Promise.resolve();\n    },\n    checkEventValidity: function checkEventValidity(payload) {\n      var from = payload.from,\n          to = payload.to;\n      if (!from || !to) return \"No dates were provided in the payload\";\n      /*if (isoFrom !== from) {\n        return 'From date is not ISO format';\n      }\n      if (isoTo !== to) {\n        return 'To date is not ISO format';\n      }*/\n\n      return null;\n    },\n    getDayEvents: function getDayEvents(events) {\n      var _this3 = this;\n\n      var clonedEvents = events.map(function (event) {\n        return cloneObject(event);\n      });\n      return myWorker.send(\"constructDayEvents\", {\n        events: clonedEvents,\n        day: this.day.value\n      }).then(function (constructed_events) {\n        _this3.day_events = constructed_events;\n      });\n    },\n    clearCreatingLeftovers: function clearCreatingLeftovers() {\n      for (var key in this.day_events) {\n        var hasPending = this.day_events[key].some(function (event) {\n          return event.status === \"popup-initiated\" || event.status === \"creating\";\n        });\n\n        if (hasPending) {\n          var completed = this.day_events[key].filter(function (event) {\n            return event.status === \"completed\";\n          });\n          this.$set(this.day_events, key, completed);\n\n          if (completed.length === 0) {\n            delete this.day_events[key];\n          }\n        }\n      }\n\n      this.resetEvents();\n    },\n    resetEvents: function resetEvents() {\n      if (!this.creator.creating && this.creator.status === null) return;\n      this.creator = {\n        creating: false,\n        starting_cell: null,\n        original_starting_cell: null,\n        current_cell: null,\n        ending_cell: null,\n        status: null,\n        temporary_id: null\n      };\n      this.temporary_event = null;\n    },\n    // this method is what we use\n    // to start the flow of selecting a new cell\n    // while the creator is enabled\n    updateCreator: function updateCreator(payload) {\n      this.creator = _objectSpread2({}, this.validateSelection(payload), {\n        status: \"creating\"\n      });\n\n      if (this.kalendar_options.overlap === false && Object.keys(this.day_events).length > 0) {\n        var fixedOverlap = this.overlapPolice(payload);\n\n        if (fixedOverlap) {\n          this.creator = this.validateSelection(fixedOverlap);\n          this.selectCell();\n          this.initiatePopup();\n          return;\n        }\n      }\n\n      this.selectCell();\n    },\n    // when the direction is reversed,\n    // the ending cell is actually the originally selected cell\n    validateSelection: function validateSelection(event) {\n      var original_starting_cell = event.original_starting_cell,\n          starting_cell = event.starting_cell,\n          current_cell = event.current_cell;\n\n      if (event.direction === \"reverse\" && original_starting_cell.index > current_cell.index) {\n        return _objectSpread2({}, event, {\n          starting_cell: current_cell,\n          ending_cell: original_starting_cell\n        });\n      }\n\n      return event;\n    },\n    selectCell: function selectCell() {\n      if (!this.creator.creating) return;\n      var _this$creator = this.creator,\n          creating = _this$creator.creating,\n          ending_cell = _this$creator.ending_cell,\n          current_cell = _this$creator.current_cell,\n          starting_cell = _this$creator.starting_cell,\n          original_starting_cell = _this$creator.original_starting_cell;\n      var real_ending_cell_index = ending_cell.index + 1;\n      ending_cell = this.day_cells[real_ending_cell_index];\n      var diffInMs = new Date(ending_cell.value) - new Date(starting_cell.value);\n      var diffInHrs = Math.floor(diffInMs % 86400000 / 3600000);\n      var diffMins = Math.round(diffInMs % 86400000 % 3600000 / 60000);\n      var startDate = new Date(starting_cell.value);\n      var endDate = new Date(ending_cell.value);\n      var distance = diffMins + diffInHrs * 60;\n      this.temporary_event = {\n        start: {\n          masked_value: startDate.toISOString(),\n          value: startDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        end: {\n          masked_value: endDate.toISOString(),\n          value: endDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        distance: distance,\n        status: \"creating\"\n      };\n    },\n    initiatePopup: function initiatePopup() {\n      if (this.creating && this.creator.status !== \"creating\") return;\n      this.creator = _objectSpread2({}, this.creator, {\n        status: \"popup-initiated\",\n        creating: false\n      });\n      var _this$creator2 = this.creator,\n          ending_cell = _this$creator2.ending_cell,\n          current_cell = _this$creator2.current_cell,\n          starting_cell = _this$creator2.starting_cell,\n          original_starting_cell = _this$creator2.original_starting_cell;\n      var real_ending_cell_index = ending_cell.index + 1;\n      ending_cell = this.day_cells[real_ending_cell_index];\n      var diffInMs = new Date(ending_cell.value) - new Date(starting_cell.value);\n      var diffInHrs = Math.floor(diffInMs % 86400000 / 3600000);\n      var diffMins = Math.round(diffInMs % 86400000 % 3600000 / 60000);\n      var startDate = new Date(starting_cell.value);\n      var endDate = new Date(ending_cell.value);\n      var finalEvent = {\n        start: {\n          masked_value: startDate.toISOString(),\n          value: startDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        end: {\n          masked_value: endDate.toISOString(),\n          value: endDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        distance: diffMins + diffInHrs * 60,\n        status: \"popup-initiated\"\n      };\n      var updated_events = this.day_events[starting_cell.value];\n      if (!updated_events) updated_events = [];\n      updated_events.push(finalEvent);\n      this.$set(this.day_events, starting_cell.value, updated_events);\n      this.temporary_event = null;\n    },\n    overlapPolice: function overlapPolice(payload) {\n      var _this4 = this;\n\n      if (!payload.current_cell) return;\n      var overlapped = Object.keys(this.day_events).map(function (evKey) {\n        return _this4.day_events[evKey];\n      }).flat().filter(function (event) {\n        var cellStart = new Date(payload.starting_cell.value);\n        var cellEnd = new Date(payload.ending_cell.value);\n        var eventStarts = new Date(event.start.value);\n        var eventEnds = new Date(event.end.value);\n        return cellEnd > eventStarts && cellEnd < eventEnds || cellStart < eventStarts && cellEnd > eventStarts;\n      });\n\n      if (!overlapped || overlapped.length === 0) {\n        return;\n      }\n\n      var newPayload = payload;\n\n      if (payload.direction === \"reverse\") {\n        var needed_cell = overlapped[0].end;\n        var event_cell = this.day_cells.find(function (c) {\n          return c.value === needed_cell.masked_value;\n        });\n        var cell = this.day_cells[event_cell.index];\n        newPayload.starting_cell = {\n          value: cell.value,\n          index: cell.index\n        };\n        newPayload.current_cell = {\n          value: cell.value,\n          index: cell.index\n        };\n      } else {\n        var _needed_cell = overlapped[0].start;\n\n        var _event_cell = this.day_cells.find(function (c) {\n          return c.value === _needed_cell.masked_value;\n        });\n\n        var _cell = this.day_cells[_event_cell.index - 1];\n        newPayload.ending_cell = {\n          value: _cell.value,\n          index: _cell.index\n        };\n      }\n\n      return newPayload;\n    },\n    scrollView: function scrollView() {\n      var topoffset = this.$refs.nowIndicator.offsetTop;\n      setTimeout(function () {\n        window.scroll({\n          top: topoffset,\n          left: 0,\n          behavior: \"smooth\"\n        });\n      }, 500);\n    }\n  }\n};\n\n/* script */\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c('ul', {\n    ref: _vm.day.value + '-reference',\n    staticClass: \"kalendar-day\",\n    class: {\n      'is-weekend': _vm.isWeekend,\n      'is-today': _vm.isToday,\n      creating: _vm.creator.creating || _vm.creator.status === 'popup-initiated'\n    },\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_vm.isToday ? _c('div', {\n    ref: \"nowIndicator\",\n    class: _vm.kalendar_options.style === 'material_design' ? 'hour-indicator-line' : 'hour-indicator-tooltip',\n    style: \"top:\" + _vm.passedTime + \"px\"\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.kalendar_options.style === 'material_design',\n      expression: \"kalendar_options.style === 'material_design'\"\n    }],\n    staticClass: \"line\"\n  })]) : _vm._e(), _vm._v(\" \"), _vm._l(_vm.day_cells, function (cell, index) {\n    return _c('kalendar-cell', {\n      key: \"cell-\" + index,\n      attrs: {\n        \"constructed-events\": _vm.day_events,\n        \"creator\": _vm.creator,\n        \"cell-data\": cell,\n        \"index\": index,\n        \"temporary-event\": _vm.temporary_event\n      },\n      on: {\n        \"select\": _vm.updateCreator,\n        \"reset\": function reset($event) {\n          return _vm.resetEvents();\n        },\n        \"initiatePopup\": function initiatePopup($event) {\n          return _vm.initiatePopup();\n        }\n      }\n    });\n  })], 2);\n};\n\nvar __vue_staticRenderFns__ = [];\n/* style */\n\nvar __vue_inject_styles__ = function __vue_inject_styles__(inject) {\n  if (!inject) return;\n  inject(\"data-v-1724e754_0\", {\n    source: \"ul.kalendar-day{position:relative;background-color:#fff}ul.kalendar-day.is-weekend{background-color:var(--weekend-color)}ul.kalendar-day.is-today{background-color:var(--current-day-color)}ul.kalendar-day .clear{position:absolute;z-index:1;top:-20px;right:0;font-size:10px}ul.kalendar-day.creating{z-index:11}ul.kalendar-day.creating .created-event{pointer-events:none}\",\n    map: undefined,\n    media: undefined\n  });\n};\n/* scoped */\n\n\nvar __vue_scope_id__ = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = __vue_normalize__({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, __vue_create_injector__, undefined, undefined);\n\n//\nvar script$1 = {\n  props: {\n    current_day: {\n      required: true,\n      type: String,\n      validator: function validator(d) {\n        return !isNaN(Date.parse(d));\n      }\n    }\n  },\n  components: {\n    KalendarDays: __vue_component__\n  },\n  created: function created() {\n    var _this = this;\n\n    this.addHelperMethods();\n    setInterval(function () {\n      return _this.kalendar_options.now = new Date();\n    }, 1000 * 60);\n    this.constructWeek();\n  },\n  inject: [\"kalendar_options\", \"kalendar_events\"],\n  data: function data() {\n    return {\n      hours: null,\n      days: []\n    };\n  },\n  computed: {\n    hoursVisible: function hoursVisible() {\n      if (!this.hours) return [];\n      return this.hours.filter(function (x) {\n        return !!x.visible;\n      });\n    },\n    colsSpace: function colsSpace() {\n      return this.kalendar_options.style === \"flat_design\" ? \"5px\" : \"0px\";\n    },\n    hourHeight: function hourHeight() {\n      return 6 * this.kalendar_options.cell_height; //this.kalendar_options.cell_height * (60 / this.kalendar_options.split_value);\n      // * this.kalendar_options.hour_parts;\n    },\n    passedTime: function passedTime() {\n      var _this$kalendar_option = this.kalendar_options,\n          day_starts_at = _this$kalendar_option.day_starts_at,\n          day_ends_at = _this$kalendar_option.day_ends_at,\n          now = _this$kalendar_option.now;\n      var time = getLocaleTime(now);\n      var day_starts = \"\".concat(time.split(\"T\")[0], \"T\").concat((day_starts_at + \"\").padStart(2, '0'), \":00:00.000Z\");\n      var day_ends = \"\".concat(time.split(\"T\")[0], \"T\").concat((day_ends_at + \"\").padStart(2, '0'), \":00:00.000Z\");\n      var time_obj = new Date(time);\n      if (new Date(day_ends) < time_obj || time_obj < new Date(day_starts)) return null;\n      var distance = (time_obj - new Date(day_starts)) / 1000 / 60;\n      return {\n        distance: distance,\n        time: time\n      };\n    }\n  },\n  methods: {\n    _isToday: function _isToday(day) {\n      return isToday(day);\n    },\n    updateAppointments: function updateAppointments(_ref) {\n      var id = _ref.id,\n          data = _ref.data;\n      this.$emit(\"update\", {\n        id: id,\n        data: data\n      });\n    },\n    deleteAppointment: function deleteAppointment(id) {\n      this.$emit(\"delete\", {\n        id: id\n      });\n    },\n    clearAppointments: function clearAppointments() {\n      this.$emit(\"clear\");\n    },\n    isDayBefore: function isDayBefore(day) {\n      var now = new Date(this.kalendar_options.now);\n      var formattedNow = getLocaleTime(now.toISOString());\n      return isBefore(day, getHourlessDate(formattedNow));\n    },\n    constructWeek: function constructWeek() {\n      var _this2 = this;\n\n      var date = this.current_day.slice(0, 10);\n      var _this$kalendar_option2 = this.kalendar_options,\n          hide_dates = _this$kalendar_option2.hide_dates,\n          hide_days = _this$kalendar_option2.hide_days,\n          view_type = _this$kalendar_option2.view_type;\n      return Promise.all([myWorker.send(\"getDays\", {\n        day: date,\n        options: {\n          hide_dates: hide_dates,\n          hide_days: hide_days,\n          view_type: view_type\n        }\n      }).then(function (reply) {\n        _this2.days = reply; //.slice(0,1);\n      }), myWorker.send(\"getHours\", {\n        hourOptions: {\n          start_hour: this.kalendar_options.day_starts_at,\n          end_hour: this.kalendar_options.day_ends_at\n        }\n      }).then(function (reply) {\n        // Handle the reply\n        _this2.hours = reply;\n      })]);\n    },\n    addHelperMethods: function addHelperMethods() {\n      var _this3 = this;\n\n      this.$kalendar.buildWeek = function () {\n        _this3.constructWeek();\n      };\n\n      this.$kalendar.addNewEvent = function (payload) {\n        if (!payload) return Promise.reject(\"No payload\");\n        var from = payload.from,\n            to = payload.to;\n        if (from.slice(-4) === \"000Z\") payload.from = addTimezoneInfo(from);\n        if (to.slice(-4) === \"000Z\") payload.to = addTimezoneInfo(to);\n        var targetRef = payload.from.slice(0, 10);\n        var refObject = _this3.$refs[targetRef];\n\n        if (refObject && refObject[0]) {\n          refObject[0].addEvent(payload);\n        } else {\n          // appointment is not in this view\n          var events = _this3.$kalendar.getEvents();\n\n          events.push(payload);\n\n          _this3.$kalendar.updateEvents(events);\n        }\n      };\n\n      this.$kalendar.removeEvent = function (options) {\n        var day = options.day,\n            key = options.key,\n            id = options.id;\n\n        if (day.length > 10) {\n          day = day.slice(0, 10);\n        }\n        if (!day) return Promise.reject(\"Day wasn't provided\");\n        if (!id) return Promise.reject(\"No ID was provided\");\n        if (!key) return Promise.reject(\"No key was provided in the object\");\n        var targetRef = day;\n\n        _this3.$refs[targetRef][0].removeEvent({\n          id: id,\n          key: key\n        });\n      };\n\n      this.$kalendar.closePopups = function () {\n        var refs = _this3.days.map(function (day) {\n          return day.value.slice(0, 10);\n        });\n\n        refs.forEach(function (ref) {\n          _this3.$refs[ref][0].clearCreatingLeftovers();\n        });\n      };\n    }\n  }\n};\n\n/* script */\nvar __vue_script__$1 = script$1;\n/* template */\n\nvar __vue_render__$1 = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c('div', {\n    staticClass: \"calendar-wrap\",\n    style: \"--space-between-cols: \" + _vm.colsSpace\n  }, [_c('div', {\n    staticClass: \"sticky-top\"\n  }, [_c('ul', {\n    staticClass: \"days\"\n  }, _vm._l(_vm.days || [], function (ref, index) {\n    var value = ref.value;\n    return _c('li', {\n      key: index,\n      staticClass: \"day-indicator\",\n      class: {\n        today: _vm._isToday(value),\n        'is-before': _vm.isDayBefore(value)\n      }\n    }, [_c('div', [_c('span', {\n      staticClass: \"letters-date\"\n    }, [_vm._v(_vm._s(_vm.kalendar_options.formatDayTitle(value)[0]))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"number-date\"\n    }, [_vm._v(_vm._s(_vm.kalendar_options.formatDayTitle(value)[1]))])])]);\n  }), 0), _vm._v(\" \"), _c('ul', {\n    staticClass: \"all-day\"\n  }, [_c('span', [_vm._v(\"All Day\")]), _vm._v(\" \"), _vm._l(_vm.days || [], function (date, index) {\n    return _c('li', {\n      key: index,\n      class: {\n        'all-today': _vm._isToday(date.value),\n        'is-all-day': false\n      },\n      style: \"height:\" + (_vm.kalendar_options.cell_height + 5) + \"px\"\n    });\n  })], 2)]), _vm._v(\" \"),  _vm._e(), _vm._v(\" \"), _vm.hours ? _c('div', {\n    staticClass: \"blocks\"\n  }, [_c('div', {\n    staticClass: \"calendar-blocks\"\n  }, [_c('ul', {\n    staticClass: \"hours\"\n  }, _vm._l(_vm.hoursVisible, function (hour, index) {\n    return _c('li', {\n      key: index,\n      staticClass: \"hour-row-identifier\",\n      style: \"height:\" + _vm.hourHeight + \"px\"\n    }, [_c('span', [_vm._v(_vm._s(_vm.kalendar_options.formatLeftHours(hour.value)))])]);\n  }), 0), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.kalendar_options.style !== 'material_design',\n      expression: \"kalendar_options.style !== 'material_design'\"\n    }],\n    staticClass: \"hour-indicator-line\",\n    style: \"top:\" + _vm.passedTime.distance + \"px\"\n  }, [_c('span', {\n    staticClass: \"time-value\"\n  }, [_vm._v(_vm._s(_vm.passedTime.value))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"line\"\n  })]), _vm._v(\" \"), _vm._l(_vm.days, function (day, index) {\n    return _c('kalendar-days', {\n      key: day.value.slice(0, 10),\n      ref: day.value.slice(0, 10),\n      refInFor: true,\n      staticClass: \"building-blocks\",\n      class: \"day-\" + (index + 1),\n      attrs: {\n        \"day\": day,\n        \"passed-time\": _vm.passedTime.distance\n      }\n    });\n  })], 2)]) : _vm._e()]);\n};\n\nvar __vue_staticRenderFns__$1 = [];\n/* style */\n\nvar __vue_inject_styles__$1 = function __vue_inject_styles__(inject) {\n  if (!inject) return;\n  inject(\"data-v-3c3b50e4_0\", {\n    source: \".calendar-wrap{display:flex;flex-direction:column}.calendar-wrap ul{list-style:none;padding:0}.calendar-wrap ul>li{display:flex}.sticky-top{position:sticky;top:0;z-index:20;background-color:#fff}.sticky-top .days{margin:0;display:flex;margin-left:55px}.sticky-top .days li{display:inline-flex;align-items:flex-end;padding-top:10px;flex:1;font-size:1.1rem;color:#666;font-weight:300;margin-right:var(--space-between-cols);border-bottom:solid 1px #e5e5e5;padding-bottom:5px;position:relative;font-size:18px}.sticky-top .days li span{margin-right:3px}.sticky-top .days li span:first-child{font-size:20px;font-weight:500}.sticky-top .days .today{border-bottom-color:var(--main-color);color:var(--main-color)!important}.sticky-top .days .today::after{content:\\\"\\\";position:absolute;height:2px;bottom:0;left:0;width:100%;background-color:var(--main-color)}.sticky-top .all-day{display:flex;margin-bottom:0;margin-top:0;border-bottom:solid 2px #e5e5e5}.sticky-top .all-day span{display:flex;align-items:center;padding:0 5px;width:55px;font-weight:500;font-size:.8rem;color:#b8bbca;text-transform:lowercase}.sticky-top .all-day li{flex:1;margin-right:var(--space-between-cols)}.sticky-top .all-day li.all-today{background-color:#fef4f4}.dummy-row{display:flex;padding-left:55px}.dummy-row ul{display:flex;flex:1;margin:0}.dummy-row li{flex:1;height:15px;margin-right:var(--space-between-cols);border-bottom:solid 1px #e5e5e5}.blocks{display:flex;position:relative;height:100%}.blocks ul{margin-top:0}.blocks .building-blocks{flex:1;margin-right:var(--space-between-cols);margin-bottom:0;display:flex;flex-direction:column}.blocks .calendar-blocks{width:100%;display:flex;position:relative}.hours{display:flex;flex-direction:column;color:#b8bbca;font-weight:500;font-size:.85rem;width:55px;height:100%;margin-bottom:0}.hours li{color:var(--hour-row-color);border-bottom:solid 1px transparent;padding-left:8px}.hours li span{margin-top:-8px}.hours li:first-child span{visibility:hidden}\",\n    map: undefined,\n    media: undefined\n  });\n};\n/* scoped */\n\n\nvar __vue_scope_id__$1 = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__$1 = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__$1 = false;\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__$1 = __vue_normalize__({\n  render: __vue_render__$1,\n  staticRenderFns: __vue_staticRenderFns__$1\n}, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, false, __vue_create_injector__, undefined, undefined);\n\nexport default __vue_component__$1;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}