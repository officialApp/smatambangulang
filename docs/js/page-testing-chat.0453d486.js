(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-testing-chat"],{"014b":function(t,e,n){"use strict";var r=n("e53d"),o=n("07e3"),i=n("8e60"),a=n("63b6"),s=n("9138"),c=n("ebfd").KEY,u=n("294c"),l=n("dbdb"),f=n("45f2"),p=n("62a0"),d=n("5168"),m=n("ccb9"),h=n("6718"),g=n("47ee"),b=n("9003"),y=n("e4ae"),v=n("f772"),x=n("241e"),w=n("36c3"),S=n("1bc3"),k=n("aebd"),O=n("a159"),M=n("0395"),$=n("bf0b"),C=n("9aa9"),A=n("d9f6"),_=n("c3a1"),j=$.f,I=A.f,E=M.f,T=r.Symbol,D=r.JSON,L=D&&D.stringify,F="prototype",N=d("_hidden"),P=d("toPrimitive"),z={}.propertyIsEnumerable,J=l("symbol-registry"),q=l("symbols"),K=l("op-symbols"),H=Object[F],R="function"==typeof T&&!!C.f,X=r.QObject,W=!X||!X[F]||!X[F].findChild,Y=i&&u((function(){return 7!=O(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=j(H,e);r&&delete H[e],I(t,e,n),r&&t!==H&&I(H,e,r)}:I,B=function(t){var e=q[t]=O(T[F]);return e._k=t,e},U=R&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},Q=function(t,e,n){return t===H&&Q(K,e,n),y(t),e=S(e,!0),y(n),o(q,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=O(n,{enumerable:k(0,!1)})):(o(t,N)||I(t,N,k(1,{})),t[N][e]=!0),Y(t,e,n)):I(t,e,n)},G=function(t,e){y(t);var n,r=g(e=w(e)),o=0,i=r.length;while(i>o)Q(t,n=r[o++],e[n]);return t},V=function(t,e){return void 0===e?O(t):G(O(t),e)},Z=function(t){var e=z.call(this,t=S(t,!0));return!(this===H&&o(q,t)&&!o(K,t))&&(!(e||!o(this,t)||!o(q,t)||o(this,N)&&this[N][t])||e)},tt=function(t,e){if(t=w(t),e=S(e,!0),t!==H||!o(q,e)||o(K,e)){var n=j(t,e);return!n||!o(q,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},et=function(t){var e,n=E(w(t)),r=[],i=0;while(n.length>i)o(q,e=n[i++])||e==N||e==c||r.push(e);return r},nt=function(t){var e,n=t===H,r=E(n?K:w(t)),i=[],a=0;while(r.length>a)!o(q,e=r[a++])||n&&!o(H,e)||i.push(q[e]);return i};R||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(K,n),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),Y(this,t,k(1,n))};return i&&W&&Y(H,t,{configurable:!0,set:e}),B(t)},s(T[F],"toString",(function(){return this._k})),$.f=tt,A.f=Q,n("6abf").f=M.f=et,n("355d").f=Z,C.f=nt,i&&!n("b8e3")&&s(H,"propertyIsEnumerable",Z,!0),m.f=function(t){return B(d(t))}),a(a.G+a.W+a.F*!R,{Symbol:T});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;rt.length>ot;)d(rt[ot++]);for(var it=_(d.store),at=0;it.length>at;)h(it[at++]);a(a.S+a.F*!R,"Symbol",{for:function(t){return o(J,t+="")?J[t]:J[t]=T(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in J)if(J[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!R,"Object",{create:V,defineProperty:Q,defineProperties:G,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=u((function(){C.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return C.f(x(t))}}),D&&a(a.S+a.F*(!R||u((function(){var t=T();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=e=r[1],(v(e)||void 0!==t)&&!U(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!U(e))return e}),r[1]=e,L.apply(D,r)}}),T[F][P]||n("35e8")(T[F],P,T[F].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},"0395":function(t,e,n){var r=n("36c3"),o=n("6abf").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},"03a0":function(t,e,n){var r=n("25bb"),o=n("d309");t.exports={distanceInWords:r(),format:o()}},"0a49":function(t,e,n){var r=n("9b43"),o=n("626a"),i=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f,d=e||s;return function(e,s,m){for(var h,g,b=i(e),y=o(b),v=r(s,m,3),x=a(y.length),w=0,S=n?d(e,x):c?d(e,0):void 0;x>w;w++)if((p||w in y)&&(h=y[w],g=v(h,w,b),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:S.push(h)}else if(l)return!1;return f?-1:u||l?l:S}}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),o=n("0a49")(6),i="findIndex",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"25bb":function(t,e){function n(){var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};function e(e,n,r){var o;return r=r||{},o="string"===typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dalam waktu "+o:o+" yang lalu":o}return{localize:e}}t.exports=n},"2a26":function(t,e,n){"use strict";var r=n("7206"),o=n.n(r);o.a},"355d":function(t,e){e.f={}.propertyIsEnumerable},"47ee":function(t,e,n){var r=n("c3a1"),o=n("9aa9"),i=n("355d");t.exports=function(t){var e=r(t),n=o.f;if(n){var a,s=n(t),c=i.f,u=0;while(s.length>u)c.call(t,a=s[u++])&&e.push(a)}return e}},4810:function(t,e,n){},"53c5":function(t,e,n){t.exports=n.p+"img/arrow-down-thick.7c008be8.svg"},"5d58":function(t,e,n){t.exports=n("d8d6")},6718:function(t,e,n){var r=n("e53d"),o=n("584a"),i=n("b8e3"),a=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"67bb":function(t,e,n){t.exports=n("f921")},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6abf":function(t,e,n){var r=n("e6f3"),o=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},7206:function(t,e,n){},7618:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("5d58"),o=n.n(r),i=n("67bb"),a=n.n(i);function s(t){return s="function"===typeof a.a&&"symbol"===typeof o.a?function(t){return typeof t}:function(t){return t&&"function"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t},s(t)}function c(t){return c="function"===typeof a.a&&"symbol"===s(o.a)?function(t){return s(t)}:function(t){return t&&"function"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":s(t)},c(t)}},"765d":function(t,e,n){n("6718")("observable")},"7f7f":function(t,e,n){var r=n("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"80f4":function(t,e,n){"use strict";var r=n("8055"),o=n.n(r),i=(n("7e59"),o()("https://infolayanans.now.sh"));e["a"]=i},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},b684:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.test}},[t._v("test")]),r("a",{key:"1",staticClass:"btns btns-sm rounded-lg hover:bg-black hover:text-white",staticStyle:{position:"fixed",top:"10px",right:"10px"},attrs:{href:"javascript:;",onclick:"document.location.hash='pos1';"},on:{click:t.goDown}},[r("img",{attrs:{src:n("53c5"),alt:""}})]),r("ul",{ref:"messages",staticClass:"messages font-times",attrs:{id:"chatnya"}},[0==t.messages.length?r("li",[r("hr",{staticClass:"style13"}),r("div",{staticClass:"text-center"},[t._v("kosong")]),r("div",{staticClass:"text-center"},[t._v("Mulai Chat Sekarang")]),r("hr",{staticClass:"style13"})]):t._e(),t._l(t.messages,(function(e,n){return e.room==t.$route.query.room?r("li",{key:n,staticClass:"message font-times rounded-lg p-2",staticStyle:{"box-shadow":"1px 2px 4px black","margin-bottom":"10px"}},[r("div",{staticClass:"text-right",staticStyle:{"font-size":"12px","font-family":"times new roman"}},[r("p",{staticStyle:{"font-size":"13px",position:"absolute",left:"50px","font-weight":"bold"}},[t._v(t._s(e.name))]),r("p",[t._v(t._s(t.distanceToNow(e.createdAt)))])]),r("p",{staticStyle:{"font-size":"14px","word-wrap":"break-word","line-height":"1.5","text-align":"justify"}},[r("img",{staticClass:"rounded-full",staticStyle:{width:"30px",height:"30px","box-shadow":"1px 2px 2px gray","margin-bottom":"6px"},attrs:{src:-1!=e.picture.indexOf("http")?e.picture:t.$store.state.url+e.picture,alt:""}}),r("span",{staticStyle:{"margin-left":"12px"},domProps:{innerHTML:t._s(e.text)}})])]):t._e()}))],2),r("div",{staticStyle:{"margin-left":"30px"}},[r("Uploader",{on:{upload:function(e){return t.upload(e)},resetInput:t.resetImg}})],1),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"pos1",type:"text",placeholder:"Type here..."},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])])},o=[],i=(n("7f7f"),n("7618")),a=n("bc3a"),s=n.n(a),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"uploadContainer hoverable text-center flex flex-wrap flex-row"},[r("div",{staticClass:"text-center",staticStyle:{cursor:"pointer"},on:{click:t.upload}},t._l(t.imgList,(function(e,n){return r("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],key:n,staticClass:"imgInput myImage imgSize",staticStyle:{"z-index":"100","margin-left":"10%"},attrs:{src:e,id:"imgKu"+n},on:{click:function(e){return t.zoomIn(e)}}})})),0),r("div",{staticClass:"text-center cursor-pointer",staticStyle:{position:"static"}},[t.imgList.length<1?r("label",{staticClass:"cursor-pointer",staticStyle:{"font-size":"12px",color:"black",position:"absolute","margin-left":"5px","margin-top":"0px"},attrs:{for:"file2"}},[r("img",{attrs:{src:n("d17f")}})]):t._e(),r("input",{ref:"uploader",staticClass:"cursor-pointer",class:{"d-none":t.imgList.length>0},attrs:{id:"file2",type:"file"},on:{input:function(e){return e.preventDefault(),t.ambil(e)}}})]),r("section",{staticStyle:{"margin-left":"20px"}},[r("button",{staticClass:"btn btn-sm btn-outline-success waves-effect d-none",attrs:{type:"button"},on:{click:t.upload}},[t._v("Browse")]),r("button",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],staticClass:"btn btn-sm btn-outline-danger waves-effect",attrs:{type:"button",id:"rest"},on:{click:t.reset}},[t._v("Reset")])])])])},u=[],l=(n("ac6a"),n("20d6"),{data:function(){return{imgList:[],count:0,imgFiles:[],imgs:[]}},watch:{imgList:function(){var t=this;setTimeout((function(){0==t.imgList.length&&t.$emit("resetInput",!0)}),300)}},methods:{zoomIn:function(t){console.log(t.target.classList.toggle("zoomIn"))},hilang:function(t,e){var n=this,r=t.target.src,o=this.imgList.findIndex((function(t){return t==r}));delete this.imgList[o];var i=0;this.$el.querySelector("#imgKu"+e).classList.add("hilang"),this.$el.querySelectorAll(".myImage").forEach((function(t){t.classList.contains("hilang")&&i++})),i>0&&this.count++,this.count==this.$el.querySelectorAll(".myImage").length&&setTimeout((function(){n.$el.querySelector("#rest").click()}),300)},reset:function(){this.$el.querySelector("#file2").style.display="initial",this.$el.querySelectorAll(".myImage").forEach((function(t){t.style.display="none"})),this.imgList=[],this.count=0},upload:function(t){var e=1;this.imgList.length>0?(this.$el.querySelectorAll(".myImage").forEach((function(n){t.target!=n?e+=1:e*=-100})),e>0&&this.$refs.uploader.click()):this.$refs.uploader.click()},ambil:function(t){var e,n,r=this,o=this;t.target.files[0].size>1e7?alert("File yang di upload tidak sesuai kriteria"):t.target.files.length>0&&function(){for(var i,a=[],c=[],u="null",l=0;l<t.target.files.length;l++)r.imgs.push(t.target.files[l]),e=t.target.files[l],n=new FileReader,n.onload=function(t){a.push(t.target.result)},n.readAsDataURL(e),i=t.target.files[l],u=i.size<1e6?30:i.size<2e6?25:i.size<3e6?20:i.size<4e6?15:10,r.$daycaca.compress(i,u,(function(t){r.gambar=t,r.$urltofile(t,i.name,i.type).then((function(t){var e=new FormData,n=[];n[0]=t,e.append("file",t),s.a.post("http://localhost:3000/api/data/upload",e,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(t){c.push("".concat(o.$store.state.url).concat(t.data.data))}))}))}));r.imgList=a,console.log(t.target),setTimeout((function(){r.$emit("upload",c)}),1e3)}()}}}),f=l,p=(n("2a26"),n("2877")),d=Object(p["a"])(f,c,u,!1,null,null,null),m=d.exports,h=n("80f4"),g=n("03a0"),b={data:function(){return{messages:[],message:"",imgs:[],img:""}},components:{Uploader:m},watch:{messages:"scrollToBottom"},beforeMount:function(){var t=this;h["a"].on("new-message",(function(e){t.messages.push(e),"object"==("undefined"===typeof cordova?"undefined":Object(i["a"])(cordova))&&document.addEventListener("deviceready",(function(){cordova.plugins.notification.local.schedule({title:"pesan baru",text:"ada pesan baru ...",foreground:!0,badge:1,sound:"file://resources/audio/beep.mp3",led:{color:"#FF00FF",on:500,off:500},vibrate:[100,50,200]}),navigator.notification.beep(1)}))}))},mounted:function(){var t=this;h["a"].emit("last-messages",(function(e){t.messages=e})),this.scrollToBottom()},methods:{distanceToNow:function(t){return this.$datefns.distanceInWordsToNow(new Date(t),{locale:g,includeSeconds:!0})},goDown:function(){window.scrollTo(0,this.$el.querySelector("input").offsetTop)},resetImg:function(){this.imgs=[],this.img=""},upload:function(t){var e=this;this.imgs=t,setTimeout((function(){var t='<br><img class="img-thumbnail" src=\''.concat(e.imgs,"'/>");e.img=t,console.log(e.img)}),1e3)},sendMessage:function(){if(this.message.trim()){this.imgs.length>0&&(this.message=this.message+this.img);var t={name:this.$store.state.user?this.$store.state.user.name:"unknown",room:this.$route.query.room,text:this.message.trim(),picture:this.$store.state.user?this.$store.state.user.picture:"./nofound.png",createdAt:(new Date).toJSON(),createdBy:this.$store.state.user._id};this.messages.push(t),this.message="",h["a"].emit("send-message",t)}},scrollToBottom:function(){var t=this;this.$nextTick((function(){t.$el.querySelector("#chatnya").scrollTop=t.$el.querySelector("#chatnya").scrollHeight}))},test:function(){s.a.get("/api/test/random").then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}},y=b,v=(n("bc7d"),Object(p["a"])(y,r,o,!1,null,null,null));e["default"]=v.exports},bc7d:function(t,e,n){"use strict";var r=n("4810"),o=n.n(r);o.a},bf0b:function(t,e,n){var r=n("355d"),o=n("aebd"),i=n("36c3"),a=n("1bc3"),s=n("07e3"),c=n("794b"),u=Object.getOwnPropertyDescriptor;e.f=n("8e60")?u:function(t,e){if(t=i(t),e=a(e,!0),c)try{return u(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},ccb9:function(t,e,n){e.f=n("5168")},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},d17f:function(t,e,n){t.exports=n.p+"img/image.9604208c.svg"},d309:function(t,e,n){var r=n("90e5");function o(){var t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],e=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],n=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],o=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],a=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],s=["AM","PM"],c=["am","pm"],u=["a.m.","p.m."],l={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?c[1]:c[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}},f=["M","D","DDD","d","Q","W"];return f.forEach((function(t){l[t+"o"]=function(e,n){return i(n[t](e))}})),{formatters:l,formattingTokensRegExp:r(l)}}function i(t){switch(t){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+t}}t.exports=o},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},e853:function(t,e,n){var r=n("d3f4"),o=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},ebfd:function(t,e,n){var r=n("62a0")("meta"),o=n("f772"),i=n("07e3"),a=n("d9f6").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("294c")((function(){return c(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return u&&m.NEED&&c(t)&&!i(t,r)&&l(t),t},m=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol}}]);
//# sourceMappingURL=page-testing-chat.0453d486.js.map